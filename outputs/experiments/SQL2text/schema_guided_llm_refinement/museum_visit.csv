query,question,iter,flag,hardness
"SELECT SUM(d.Num_of_Ticket), d.visitor_ID FROM visit AS d WHERE (d.Num_of_Ticket BETWEEN 1 AND 10) OR  (d.Total_spent < 77) GROUP BY d.visitor_ID HAVING AVG(d.Num_of_Ticket) <= 51","For each visitor, what is the total number of tickets they bought in visits where they either bought between 1 and 10 tickets or spent less than 77, given that their average number of tickets per visit is less than or equal to 51?",6,False,hard
SELECT Num_of_Staff FROM museum LIMIT 5,What are the numbers of staff for the next 5 museums after the first 5 museums?,6,False,easy
"SELECT Level_of_membership, ID, Name FROM visitor WHERE ID != 52 LIMIT 6","What are the membership levels, IDs, and names of the next six visitors after the first six, excluding visitor 52?",6,False,medium
"SELECT MAX(Age), SUM(Age), COUNT(DISTINCT Age) FROM visitor WHERE Level_of_membership BETWEEN 1 AND 10 AND  Age > 30","What are the maximum, total, and number of distinct ages of museum visitors with a membership level between 1 and 10 and over 30 years old?",3,True,hard
"SELECT ID, Name FROM visitor ORDER BY ID DESC;",What are the names of the visitors listed in descending order of their IDs?,6,False,medium
"SELECT k.Total_spent, k.Museum_ID FROM visit AS k WHERE  k.Num_of_Ticket > 74",What are the total amounts spent and corresponding museum IDs for visits where the number of tickets purchased exceeds 74?,6,True,medium
SELECT Name FROM visitor WHERE Level_of_membership BETWEEN 1 AND 10 AND ID < (SELECT MIN(ID) FROM visitor WHERE  Age = 99) GROUP BY Name HAVING MIN(Age) > 27 LIMIT 9,"What are the names of the visitors with membership levels between 1 and 10, whose IDs are less than the minimum ID of 99-year-old visitors, and the minimum age for each of these visitor names is greater than 27, listed from the 10th to the 18th result?",6,False,extra
SELECT museum.Name FROM visit JOIN museum JOIN visitor ON visit.visitor_ID = visitor.ID AND museum.Museum_ID = visit.Museum_ID WHERE EXISTS (SELECT * FROM museum AS j WHERE visit.Museum_ID = j.Museum_ID) ORDER BY museum.Name DESC,What are the names of the museums visited in descending order?,2,True,extra
"SELECT COUNT(DISTINCT Open_Year), Name FROM museum WHERE Num_of_Staff BETWEEN 1 AND 10 OR Num_of_Staff = 44 LIMIT 10;",What are the names of the first 10 museums with unique open years that have either between 1 and 10 staff or exactly 44 staff?,6,False,hard
SELECT COUNT(DISTINCT Age) FROM visitor WHERE ID IN (SELECT ID FROM visitor),How many different ages are there among all the visitors?,2,True,hard
"SELECT x.Museum_ID, x.Num_of_Staff FROM museum AS x WHERE x.Museum_ID != 40 LIMIT 3;",What are the museum IDs and the number of staff of the three museums that are not museum 40?,2,True,medium
SELECT MAX(Level_of_membership) FROM visitor WHERE  ID != 80,What is the highest level of membership among customers excluding the one with ID 80?,2,True,easy
"SELECT Museum_ID, Num_of_Staff FROM museum WHERE Num_of_Staff BETWEEN 1 AND 10 OR Museum_ID <= (SELECT MAX(Museum_ID) FROM museum WHERE Museum_ID BETWEEN 1 AND 10 LIMIT 8)","What are the museum IDs and the number of staff for museums with a staff size between 1 and 10, or those with an ID less than or equal to the 8th smallest ID in museums with IDs between 1 and 10?",2,True,extra
"SELECT COUNT(Age), Name, Age FROM visitor WHERE ID <= 25 GROUP BY Age, Name HAVING MIN(ID) >= 51 ORDER BY Name DESC","What is the count of ages and names of visitors ordered by name in descending order, who have IDs greater than or equal to 51 and IDs less than or equal to 25?",6,False,hard
"SELECT COUNT(DISTINCT m.Num_of_Staff), m.Num_of_Staff FROM museum AS m WHERE EXISTS (SELECT * FROM visit AS v WHERE v.Museum_ID BETWEEN 1 AND 10 AND m.Museum_ID = v.Museum_ID) ORDER BY m.Num_of_Staff DESC;","What are the distinct numbers of staff in museums visited by customers, listed in descending order of the number of staff?",6,False,extra
"SELECT AVG(v.Num_of_Ticket), m.Open_Year FROM museum AS m JOIN visit AS v ON m.Museum_ID = v.Museum_ID WHERE m.Museum_ID <= 11",What is the average number of tickets per visit and opening year for each of the first 11 museums?,6,False,medium
"SELECT ID, Level_of_membership FROM visitor WHERE Age BETWEEN 1 AND 10 OR ID > 78 GROUP BY Level_of_membership","What level of membership do visitors have, who are between the age of 1 and 10 or have a visitor ID greater than 78?",6,False,hard
"SELECT COUNT(museum.Num_of_Staff), museum.Num_of_Staff FROM visit JOIN museum ON museum.Museum_ID = visit.Museum_ID WHERE visit.Museum_ID BETWEEN 1 AND 10","How many staff members are there in each museum with id between 1 and 10, and what is the total count of staff members in these museums?",6,False,medium
"SELECT Name, Num_of_Staff FROM museum WHERE Num_of_Staff >= 54",What are the names of museums with 54 or more staff members and how many staff members do they have?,2,True,medium
SELECT Name FROM museum WHERE Museum_ID < 92,What are the names of the museums with a museum ID less than 92?,2,True,easy
"SELECT Name, Name FROM visitor ORDER BY Name ASC",What are the names of all visitors in alphabetical order by name?,6,False,medium
SELECT COUNT(DISTINCT Age) FROM visitor AS q WHERE q.Level_of_membership BETWEEN 1 AND 10 OR q.Level_of_membership >= 96;,How many different ages are there among visitors whose level of membership is between 1 and 10 or 96 and above?,2,True,medium
"SELECT COUNT(DISTINCT i.Name), i.Name FROM museum AS i WHERE i.Num_of_Staff BETWEEN 1 AND 10 AND  i.Num_of_Staff != 97 GROUP BY i.Name ORDER BY i.Name ASC LIMIT 9;","What are the names of the 9 museums with the fewest to 10 staff members, excluding the museum with 97 staff members, listed in ascending order by name? ",6,False,extra
SELECT COUNT(DISTINCT s.ID) FROM visitor AS s WHERE  s.Level_of_membership < 40;,How many unique visitors have a membership level below 40?,2,True,easy
SELECT T1.Name FROM museum AS T1 JOIN visit AS T2 ON T1.Museum_ID = T2.Museum_ID WHERE T1.Num_of_Staff != 83 OR T2.Num_of_Ticket > (SELECT AVG(Num_of_Ticket) FROM visit) ORDER BY T2.Num_of_Ticket DESC LIMIT 1;,"What is the name of the museum with the most tickets sold by a visitor, considering only museums with a staff count different from 83 or with more tickets sold than the average?",6,True,extra
"SELECT COUNT(Level_of_membership), MAX(ID), MIN(ID) FROM visitor WHERE  Level_of_membership <= 79","What is the count, highest ID, and lowest ID of visitors whose level of membership is less than or equal to 79?",2,True,medium
