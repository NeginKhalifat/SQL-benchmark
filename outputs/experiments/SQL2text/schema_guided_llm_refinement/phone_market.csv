query,question,iter,flag
"SELECT MAX(s.Phone_ID), COUNT(DISTINCT s.Phone_ID), s.Memory_in_G FROM phone AS s WHERE s.Phone_ID BETWEEN 1 AND 10 AND Price < (SELECT SUM(Price) FROM phone WHERE Price BETWEEN 1 AND 45) GROUP BY s.Memory_in_G ORDER BY s.Memory_in_G DESC LIMIT 4;","What are the maximum phone ID, count of distinct phone IDs, and memory in GB for top 4 phone models with highest memory, where the phone ID is between 1 and 10, and the price is less than the sum of prices of phones with prices between 1 and 45?",3,True
"SELECT COUNT(DISTINCT T3.Market_ID), COUNT(DISTINCT T3.District), T1.Memory_in_G, T3.District FROM phone AS T1 JOIN phone_market AS T2 ON T1.Phone_ID = T2.Phone_ID JOIN market AS T3 ON T2.Market_ID = T3.Market_ID WHERE T3.Market_ID BETWEEN 1 AND 10 GROUP BY T3.District, T3.Market_ID, T1.Memory_in_G","For each district, and market ID from 1 to 10, what are the number of unique market IDs, unique districts, memory in GB, and district for each group of market ID and district in the phone market data? ",6,False
"SELECT MIN(t.Ranking), COUNT(DISTINCT t.Num_of_shops), t.Num_of_employees, t.District FROM market AS t WHERE  t.Ranking != 69 GROUP BY t.District, t.Num_of_employees ORDER BY t.Num_of_employees ASC","What is the minimum ranking, number of unique shops, and number of employees for each district in the market, excluding markets with a ranking of 69, sorted by the number of employees in ascending order?",6,False
"SELECT MAX(a.Market_ID), a.Num_of_stock FROM phone_market AS a WHERE  a.Market_ID != 56",What is the maximum market id and the corresponding number of stock in the phone market excluding market id 56?,4,True
SELECT Num_of_stock FROM phone_market JOIN market ON phone_market.Market_ID = market.Market_ID WHERE market.Market_ID BETWEEN 1 AND 10 AND phone_market.Market_ID >= 7 GROUP BY Num_of_stock LIMIT 4,"What are the 4th to 7th different numbers of stocks of phones in markets with IDs between 1 and 10 and specifically 7 or more, grouped by the number of stock?",6,False
SELECT r.Num_of_stock FROM phone_market AS r WHERE  r.Num_of_stock >= 12 ORDER BY r.Num_of_stock ASC,"What are the phone market's stock amounts with at least 12 in stock, listed in ascending order?",2,True
SELECT Phone_ID FROM phone_market WHERE Num_of_stock != 63 OR Market_ID IN (SELECT Market_ID FROM phone_market WHERE Market_ID < 16) LIMIT 6,"What are the phone IDs, excluding the first six, of phones in stock either 63 or more units or in markets with an ID less than 16?",6,False
"SELECT T1.District, T3.Carrier FROM market AS T1 INNER JOIN phone_market AS T2 ON T1.Market_ID = T2.Market_ID INNER JOIN phone AS T3 ON T2.Phone_ID = T3.Phone_ID WHERE T1.Market_ID BETWEEN 1 AND 10 OR T1.Ranking > 93 GROUP BY T3.Carrier HAVING SUM(T1.Num_of_shops) >= 49 ORDER BY T3.Carrier ASC","What are the districts and carriers for markets with IDs between 1 and 10 or a ranking above 93, grouped by carrier and with a total number of shops of 49 or more, sorted by carrier in ascending order?",6,False
"SELECT AVG(Num_of_employees), COUNT(Num_of_employees) FROM market WHERE Ranking < 29",What is the average and total number of employees in markets that are ranked less than 29?,4,True
"SELECT COUNT(DISTINCT u.Num_of_shops), u.Num_of_shops FROM market AS u WHERE u.Num_of_shops BETWEEN 1 AND 10 OR u.Num_of_shops NOT IN (SELECT Num_of_shops FROM market WHERE  Num_of_employees >= 13) GROUP BY u.Num_of_shops LIMIT 7","What are the distinct numbers of shops in markets with between 1 and 10 shops, excluding markets with 13 or more employees, for the 7th to 13th such numbers of shops?",6,False
SELECT Carrier FROM phone JOIN phone_market ON phone_market.Phone_ID = phone.Phone_ID WHERE EXISTS (SELECT * FROM phone_market WHERE Num_of_stock BETWEEN 1 AND 10 AND phone.Phone_ID = phone_market.Phone_ID LIMIT 8),"What carriers offer phones with between 1 and 10 in stock in any market, limited to the first 8 markets?",6,False
"SELECT MIN(Market_ID), Ranking, Num_of_shops FROM market WHERE Num_of_employees BETWEEN 1 AND 10 AND District NOT IN (SELECT District FROM market) GROUP BY Ranking, Num_of_shops LIMIT 9","What are the minimum market IDs along with their respective rankings and number of shops for the markets with 1 to 10 employees, excluding those in districts with other markets, grouped by ranking and number of shops and limited to 9 results offset by 9?",3,True
SELECT y.Phone_ID FROM phone_market AS y WHERE y.Market_ID != 5,What are the phone ids that are not available in market 5?,2,True
"SELECT Market_ID, SUM(Num_of_stock) AS Total_stock FROM phone_market GROUP BY Market_ID HAVING SUM(Num_of_stock) >= 40 ORDER BY Market_ID ASC LIMIT 7;","What are the first 7 market ids with a total stock of at least 40 phones, listed in ascending order by market id, along with their total stock?",3,True
"SELECT T2.Num_of_stock, T1.Market_ID FROM market AS T1 JOIN phone_market AS T2 ON T1.Market_ID = T2.Market_ID WHERE T1.District NOT IN (SELECT District FROM market AS y)",What are the number of stocks and market IDs in markets that have distinct districts?,6,False
SELECT District FROM market WHERE Num_of_employees < 0 ORDER BY District ASC;,"What are the districts with negative number of employees in the market, listed in ascending order?",2,True
SELECT e.Memory_in_G FROM phone AS e WHERE e.Price >= 37 AND e.Price = (SELECT AVG(Price) FROM phone AS m WHERE m.Memory_in_G BETWEEN 1 AND 10 AND m.Phone_ID > 12),What is the memory in GB of the phones that have a price equal to or above 37 and are equal to the average price of phones with memory between 1 and 10GB and phone ID greater than 12?,2,True
SELECT T2.Phone_ID FROM market AS T1 JOIN phone_market AS T2 ON T1.Market_ID = T2.Market_ID WHERE T1.Num_of_employees <= 36;,What are the phone IDs available in the markets with 36 or fewer employees?,6,False
"SELECT COUNT(h.Num_of_employees), MIN(h.Num_of_shops), h.District FROM market AS h WHERE h.Ranking < 61 AND h.Market_ID BETWEEN 1 AND 10 GROUP BY h.District HAVING MIN(h.Num_of_employees) >= 47","What is the count of employees, minimum number of shops, and district for the markets with a ranking below 61 and market ID between 1 and 10, where the minimum number of employees in each district is at least 47?",6,False
"SELECT MAX(T2.Num_of_shops), MIN(T2.Market_ID), T1.Memory_in_G FROM phone AS T1 JOIN phone_market AS T3 ON T1.Phone_ID = T3.Phone_ID JOIN market AS T2 ON T3.Market_ID = T2.Market_ID WHERE T3.Phone_ID != 82 GROUP BY T1.Memory_in_G HAVING MIN(T2.Market_ID) < 51","What is the maximum number of shops and minimum market ID for each phone memory size, for phones not with ID 82 and in markets with ID less than 51?",6,False
SELECT T1.Phone_ID FROM phone AS T1 JOIN phone_market AS T2 ON T1.Phone_ID = T2.Phone_ID JOIN market AS T3 ON T2.Market_ID = T3.Market_ID WHERE T3.Num_of_employees <= 25 LIMIT 8,"What are the next 8 phone ids from markets with 25 or fewer employees, listed after the first 8 results?",3,True
"SELECT g.Num_of_shops, g.District, g.Ranking FROM market AS g WHERE g.Num_of_shops BETWEEN 1 AND 10 AND g.Ranking = (SELECT MAX(Ranking) FROM market AS r WHERE r.Num_of_shops >= 66) GROUP BY g.Ranking ORDER BY g.Num_of_shops DESC","What are the top-ranked districts with the number of shops between 1 and 10, ranked by the number of shops in descending order, where the top rank is the maximum rank of markets with at least 66 shops?",6,False
SELECT COUNT(DISTINCT j.Memory_in_G) FROM phone AS j WHERE Memory_in_G <= (SELECT SUM(Memory_in_G) FROM phone AS v WHERE  v.Memory_in_G >= 38 LIMIT 4),How many distinct phone models have a memory less than or equal to the total memory of the top four phone models with a memory of at least 38GB?,6,False
"SELECT T1.Num_of_employees, T1.District FROM market AS T1 INNER JOIN phone_market AS T2 ON T1.Market_ID = T2.Market_ID WHERE T1.Num_of_shops < 52 GROUP BY T1.District, T1.Num_of_employees",What are the numbers of employees and districts in markets with fewer than 52 shops that also have a phone market?,4,True
"SELECT u.Name, u.Memory_in_G FROM phone AS u GROUP BY u.Name, u.Memory_in_G ORDER BY u.Memory_in_G ASC LIMIT 4;",What are the names and memory in GB of the four phones with the smallest memory?,6,False
