query,question,iter,flag,hardness
"SELECT T1.Book_Title, AVG(T2.Budget_million) FROM book_club AS T1 JOIN culture_company AS T3 ON T1.book_club_id = T3.book_club_id JOIN movie AS T2 ON T3.movie_id = T2.movie_id GROUP BY T1.Book_Title HAVING T1.book_club_id NOT IN (SELECT book_club_id FROM book_club WHERE Result = 'Passed') LIMIT 1","What book title, excluding those with a 'Passed' result, has the second highest average movie budget?",2,True,extra
SELECT T2.Company_name FROM book_club AS T1 JOIN culture_company AS T2 ON T1.book_club_id = T2.book_club_id WHERE T1.Year BETWEEN 2015 AND 2020 AND T1.Author_or_Editor = 'John Doe',What are the culture company names associated with book clubs that had John Doe as the author or editor between 2015 and 2020?,2,True,medium
"SELECT Title, SUM(Gross_worldwide) FROM movie WHERE Year = 2010 LIMIT 10",What are the titles of the 11th to 20th movies with the highest worldwide gross in 2010?,6,False,medium
SELECT T1.Company_name FROM culture_company AS T1 JOIN book_club AS T2 ON T1.book_club_id = T2.book_club_id WHERE T2.Author_or_Editor = 'Author1' AND T2.Book_Title = 'Book1' AND T2.Publisher BETWEEN 'Publisher1' AND 'Publisher2',What are the names of culture companies associated with the book club having Author1 as the author or editor of Book1 with the publisher name between Publisher1 and Publisher2?,3,True,medium
"SELECT Book_Title, AVG(Year) FROM book_club WHERE Result > 'Good' GROUP BY Book_Title HAVING AVG(Year) > 2010 ORDER BY Book_Title ASC LIMIT 10","What are the titles of the next 10 books, ordered alphabetically, that have been read after 2010 in book clubs with results better than 'Good'?",6,False,extra
SELECT MAX(T2.Budget_million) FROM culture_company AS T1 JOIN movie AS T2 ON T1.movie_id = T2.movie_id WHERE T2.Director = 'Steven Spielberg' AND T1.Group_Equity_Shareholding BETWEEN 50 AND 100 AND T2.Gross_worldwide > 500 ORDER BY T2.Budget_million DESC,"What is the highest budget of movies directed by Steven Spielberg, produced by a culture company with a group equity shareholding between 50 and 100, and with worldwide gross revenue over 500 million?",2,True,hard
SELECT T2.Title FROM book_club AS T1 JOIN movie AS T2 ON T1.book_club_id = T2.movie_id WHERE T2.Budget_million < 100,What are the titles of the movies with a budget of less than 100 million dollars that are part of a book club?,6,False,medium
"SELECT T1.Company_name, T3.Title FROM culture_company AS T1 JOIN movie AS T3 ON T1.movie_id = T3.movie_id JOIN book_club AS T2 ON T2.book_club_id = T1.book_club_id WHERE T2.Year = 2000 AND T2.Author_or_Editor = 'Author1' AND T3.movie_id IN (SELECT movie_id FROM movie WHERE Year > 2000)","What are the names of the companies and their corresponding movie titles for the books written by Author1 in the year 2000, and movies released after 2000?",3,True,extra
SELECT T1.Title AS new_name FROM movie AS T1 WHERE T1.Budget_million > 200 AND T1.Gross_worldwide BETWEEN 400 AND 600 OR T1.Director = 'James',"What are the movie titles where the budget is over 200 million and the worldwide gross is between 400 and 600 million, or the director is James?",2,True,medium
"SELECT T1.Company_name, COUNT(T2.movie_id) FROM culture_company AS T1 JOIN movie AS T2 ON T1.movie_id = T2.movie_id WHERE T2.Budget_million != 0 GROUP BY T1.Company_name HAVING COUNT(T2.movie_id) > 1","What are the names of companies with more than one movie and their corresponding number of movies, excluding movies with zero budget?",4,True,hard
SELECT MAX(COUNT(DISTINCT Book_Title)) FROM book_club WHERE Year <= 2000,What is the maximum number of distinct book titles in a year on or before 2000?,3,True,easy
"SELECT T1.Book_Title, T2.Title FROM book_club AS T1 JOIN culture_company AS T3 ON T1.book_club_id = T3.book_club_id JOIN movie AS T2 ON T3.movie_id = T2.movie_id WHERE T1.Year <= 2000 AND T2.Budget_million <= 100",What are the book titles from book clubs formed before or in 2000 and their corresponding movie titles with budgets less than or equal to 100 million?,2,True,hard
SELECT MIN(T1.Budget_million) FROM movie AS T1 WHERE T1.movie_id = 10 OR EXISTS (SELECT T2.movie_id FROM culture_company AS T2 WHERE T2.movie_id = T1.movie_id) GROUP BY T1.movie_id ORDER BY T1.movie_id DESC,"What is the lowest budget for the movie with id 10 or movies that have cultural company, ordered by movie id in descending order?",3,True,extra
SELECT Author_or_Editor FROM book_club WHERE Book_Title >= 'Harry Potter' AND Publisher >= 'Penguin Books' LIMIT 10,Who are the authors or editors of the 11th to 20th book club books with titles alphabetically after 'Harry Potter' and publishers alphabetically after 'Penguin Books'?,6,False,medium
SELECT T1.Book_Title FROM book_club AS T1 JOIN culture_company AS T2 ON T1.book_club_id = T2.book_club_id JOIN movie AS T3 ON T2.movie_id = T3.movie_id WHERE T3.Year BETWEEN 1990 AND 2000 OR T1.Author_or_Editor = 'John' OR T3.Title NOT IN (SELECT Title FROM movie WHERE Budget_million > 50) GROUP BY T1.Book_Title HAVING COUNT(T3.movie_id) > 1,"What book titles from book clubs have more than one associated movie released between 1990 and 2000, or written by John, or not having a movie budget over 50 million?",6,False,extra
"SELECT T1.Author_or_Editor, T1.Book_Title FROM book_club AS T1 WHERE T1.Year >= 1980 AND T1.Category = 'Fiction'",What are the authors or editors and book titles of fiction books published in 1980 or later in the book club?,3,True,medium
"SELECT DISTINCT COUNT(T2.book_club_id), COUNT(T1.book_club_id), COUNT(T1.Year) FROM book_club AS T1 JOIN book_club AS T2 ON T1.book_club_id = T2.book_club_id WHERE T1.Year = 1990 AND EXISTS (SELECT 1 FROM movie WHERE movie_id = T1.book_club_id) ORDER BY T1.book_club_id DESC","What are the counts of distinct book club IDs, book club IDs, and years for book clubs with a year of 1990 and a matching movie ID, ordered by book club ID in descending order?",6,False,extra
SELECT COUNT(DISTINCT movie_id) FROM culture_company WHERE movie_id <= 10,How many distinct movies with a movie id less than or equal to 10 are associated with a culture company?,2,True,easy
SELECT Company_name AS New_Table_Name FROM culture_company WHERE Company_name >= 'A' ORDER BY Company_name ASC,"What are all the culture companies whose name starts with the letter 'A' or later, listed in ascending order?",3,True,medium
"SELECT T1.Company_name, T2.Budget_million, T3.Book_Title FROM culture_company AS T1 JOIN movie AS T2 ON T1.movie_id = T2.movie_id JOIN book_club AS T3 ON T1.book_club_id = T3.book_club_id WHERE T2.Budget_million < 100 LIMIT 10","What are the company names, budgets, and book titles for the 11th to 20th movies with budgets under 100 million?",5,True,extra
SELECT book_club_id FROM book_club WHERE Book_Title = 'book_title' OR Year BETWEEN 1900 AND 2000 OR EXISTS (SELECT 1 FROM culture_company WHERE book_club_id = book_club.book_club_id AND Type = 'type') LIMIT 10,"What are the next 10 book club ids that either have a book title of 'book_title', were published between 1900 and 2000, or are associated with a culture company of type 'type'?",3,True,extra
SELECT Title FROM movie WHERE movie_id NOT IN (SELECT movie_id FROM culture_company WHERE book_club_id = 'book_club1') AND Budget_million BETWEEN 50 AND 100 AND movie_id IN (SELECT movie_id FROM culture_company WHERE Type = 'type1'),What are the titles of movies with a budget between 50 million and 100 million that have a type1 company but are not associated with book club1?,2,True,extra
SELECT COUNT(DISTINCT Category) FROM book_club WHERE Year BETWEEN 2010 AND 2020 OR Publisher IN (SELECT Publisher FROM book_club WHERE Result = 'Winner') OR Author_or_Editor IN (SELECT Author_or_Editor FROM book_club WHERE Book_Title = 'Book1') GROUP BY Category HAVING SUM(book_club_id) > 10,"What are the categories of book clubs with more than 10 books published between 2010 and 2020, or published by a winner publisher, or written by the author of 'Book1'?",6,False,extra
