query,question,iter,flag,hardness
"SELECT T1.title, COUNT(DISTINCT T2.u_id) FROM item AS T1 JOIN review AS T2 ON T1.i_id = T2.i_id WHERE T2.rating < 5 ORDER BY T1.title ASC","What are the titles of items with less than 5-star reviews, along with the number of unique users who gave those reviews, sorted by item title?",2,True,hard
SELECT T2.title FROM review AS T1 JOIN item AS T2 ON T1.i_id = T2.i_id WHERE T1.rating > 3,What are the titles of the items rated more than 3?,2,True,medium
SELECT MIN(T1.rating) FROM review AS T1 WHERE T1.rank < 5 ORDER BY T1.rating ASC,What is the lowest rating given by a reviewer with a rank lower than 5?,2,True,medium
"SELECT COUNT(T1.u_id), COUNT(T2.i_id) FROM useracct AS T1 JOIN review AS T2 ON T1.u_id = T2.u_id JOIN item AS T3 ON T2.i_id = T3.i_id WHERE T2.u_id != 1","How many user accounts and items are associated with reviews, excluding reviews made by user 1?",6,False,hard
SELECT COUNT(DISTINCT T1.u_id) FROM useracct AS T1 JOIN trust AS T2 ON T1.u_id = T2.target_u_id WHERE T2.trust >= 0.5 LIMIT 10,"What are the 11th to 20th user IDs that are trusted by others with a trust value of at least 0.5, and how many such distinct user IDs are there?",6,False,hard
"SELECT i_id, AVG(rating) FROM review WHERE i_id <= 1000 ORDER BY i_id ASC","What is the average rating for each item with an item id less than or equal to 1000, listed in ascending order by item id?",3,True,medium
"SELECT COUNT(DISTINCT T1.u_id), COUNT(*) FROM useracct AS T1 JOIN review AS T2 ON T1.u_id = T2.u_id WHERE T2.rating < 5",How many unique users and total reviews have users given a rating less than 5?,3,True,extra
"SELECT COUNT(DISTINCT T3.u_id), COUNT(T1.a_id) FROM review AS T1 JOIN item AS T2 ON T1.i_id = T2.i_id JOIN useracct AS T3 ON T3.u_id = T1.u_id WHERE T1.rating > 3 LIMIT 10","What are the counts of distinct user ids and review ids of the top 10 reviews with a rating greater than 3, excluding the first 10 results?",6,False,extra
SELECT T1.title FROM item AS T1 JOIN review AS T2 ON T1.i_id = T2.i_id JOIN useracct AS T3 ON T2.u_id = T3.u_id WHERE EXISTS ( SELECT 1 FROM trust WHERE trust.source_u_id = T3.u_id AND trust.trust > ( SELECT AVG(trust.trust) FROM trust ) ),What are the titles of the items reviewed by users who have a higher-than-average trust score?,6,False,extra
SELECT i_id FROM item WHERE NOT EXISTS (SELECT 1 FROM review WHERE rating > 3 AND i_id = item.i_id) AND NOT EXISTS (SELECT 1 FROM review WHERE rating < 3 AND i_id = item.i_id),What item IDs do not have any reviews with a rating greater than 3 or less than 3?,3,True,extra
SELECT T1.title FROM item AS T1 JOIN review AS T2 ON T1.i_id = T2.i_id WHERE T2.rating > 4 AND T2.rank BETWEEN 1 AND 100 AND T2.u_id = 10 ORDER BY T1.title ASC,"What are the titles of items reviewed by user with id 10, having rating greater than 4 and rank between 1 and 100, listed in ascending order of title?",2,True,hard
"SELECT T1.title, T2.rank FROM item AS T1 JOIN review AS T2 ON T1.i_id = T2.i_id WHERE T2.rating != 5",What are the titles and ranks of items that received ratings other than 5?,4,True,medium
"SELECT T1.title, AVG(T2.rating) FROM item AS T1 JOIN review AS T2 ON T1.i_id = T2.i_id JOIN trust AS T3 ON T2.u_id = T3.target_u_id WHERE T3.trust > 0.5 GROUP BY T1.title ORDER BY T1.title DESC LIMIT 10","What are the titles of items and their average ratings from trusted users with a trust value greater than 0.5, listed in descending order by title, starting from the 11th item?",6,False,extra
SELECT T1.u_id FROM review AS T1 JOIN review AS T2 ON T1.a_id = T2.a_id WHERE T1.u_id = 123 AND 456 IN (SELECT T3.u_id FROM review AS T3 WHERE T3.i_id = T1.i_id) AND T1.rating < T2.rating GROUP BY T1.u_id HAVING MIN(T1.rank) > MIN(T2.rank) ORDER BY T1.u_id ASC,"Which users with id 123 have reviewed items that another user with id 456 has also reviewed, with the first user having a lower rating, and the lowest rank of the first user's reviews being higher than that of the other user, sorted by user id?",6,False,extra
"SELECT T1.u_id, T1.rank FROM review AS T1 JOIN item AS T2 ON T1.i_id = T2.i_id WHERE T2.i_id < 100 AND T1.rating < 5",What are the user ids and corresponding ranks of reviews for items with ids less than 100 and ratings less than 5?,2,True,extra
SELECT MAX(T1.rating) FROM review AS T1 WHERE T1.rating BETWEEN 1 AND 5 AND T1.i_id IN (SELECT T2.i_id FROM item AS T2 WHERE T2.title = 'Movie'),What is the highest rating given to the item 'Movie' with a rating between 1 and 5?,2,True,extra
SELECT COUNT(*) FROM review WHERE rating >= 5 LIMIT 10,What are the counts of the 11th to 20th reviews with a rating of 5 or more?,4,True,medium
"SELECT COUNT(i_id), SUM(rating) FROM review LIMIT 10",What is the count of reviews and the sum of ratings for the next 10 reviews (excluding the first 10)?,6,False,medium
SELECT COUNT(DISTINCT u_id) FROM review WHERE rating <= 3,How many unique users have given a rating of 3 or less?,2,True,easy
SELECT title FROM item WHERE i_id = 1,What is the title of the item with item id 1?,2,True,easy
"SELECT COUNT(DISTINCT T1.u_id), COUNT(DISTINCT T2.u_id) FROM useracct AS T1 JOIN review AS T2 ON T1.u_id = T2.u_id WHERE T1.name = 'Alice' OR T2.rating > (SELECT AVG(rating) FROM review WHERE i_id IN (SELECT i_id FROM item WHERE title = 'Toy'))",How many unique users named 'Alice' and unique users who have given higher ratings than average on items titled 'Toy' are there?,5,True,extra
"SELECT T2.name, COUNT(T1.u_id) FROM review AS T1 JOIN useracct AS T2 ON T1.u_id = T2.u_id WHERE T1.rating = 5 ORDER BY T2.name DESC","What is the name of the user and how many 5-star reviews did they make, sorted by user name in descending order?",2,True,hard
SELECT T1.title FROM item AS T1 JOIN review AS T2 ON T1.i_id = T2.i_id WHERE T2.u_id = 123 AND T2.rating = 5 AND T1.i_id IN (SELECT T3.i_id FROM review AS T3 WHERE T3.rank > 10),What are the titles of the items that user 123 rated 5 stars and that also have at least one review with a rank greater than 10?,4,True,extra
"SELECT T1.u_id, COUNT(DISTINCT T2.i_id) FROM useracct AS T1 JOIN review AS T2 ON T1.u_id = T2.u_id WHERE T2.rank >= 2",What is the user id and the number of distinct items reviewed by each user with a rank of 2 or more?,6,False,medium
SELECT COUNT(DISTINCT T1.i_id) FROM review AS T1 WHERE T1.rating BETWEEN 1 AND 3 OR T1.i_id NOT IN (SELECT T2.i_id FROM item AS T2) OR T1.u_id IN (SELECT T3.u_id FROM useracct AS T3 WHERE T3.name = 'John'),"How many distinct items have a rating between 1 and 3, or are not listed in the item table, or were reviewed by the user named 'John'?",6,False,extra
SELECT COUNT(i_id) AS review_count FROM review WHERE rating != 5 LIMIT 10,"What is the count of negatively reviewed items, after skipping the first 10 results?",6,False,medium
SELECT COUNT(u_id) FROM review WHERE rating BETWEEN 4 AND 5 GROUP BY u_id HAVING COUNT(u_id) > 5,How many users have given more than 5 reviews with ratings between 4 and 5?,2,True,medium
