query,question,iter,flag,hardness
SELECT T1.first_name FROM Students AS T1 JOIN Students AS T2 ON T1.student_id = T2.student_id WHERE T1.student_id = 1 AND T1.date_first_registered BETWEEN '2020-01-01' AND '2021-01-01' AND NOT EXISTS (SELECT 1 FROM Students AS T3 WHERE T3.student_id = T1.student_id AND T3.date_left IS NOT NULL) ORDER BY T1.first_name ASC LIMIT 10,"What are the first names of the students who first registered between '2020-01-01' and '2021-01-01', did not leave, and have a student_id of 1, listed in ascending order from the 11th to the 20th student?",2,True,extra
"SELECT COUNT(DISTINCT T1.degree_program_id), T2.department_name FROM Degree_Programs AS T1 JOIN Departments AS T2 ON T1.department_id = T2.department_id GROUP BY T2.department_name HAVING SUM(T1.degree_program_id) >= 1 ORDER BY T2.department_name ASC","What are the names of the departments that offer at least one degree program, and how many distinct degree programs does each department offer, listed in ascending order by department name?",5,True,hard
"SELECT T1.degree_summary_name, COUNT(T2.student_enrolment_id) FROM Degree_Programs AS T1 JOIN Student_Enrolment AS T2 ON T1.degree_program_id = T2.degree_program_id WHERE T2.semester_id BETWEEN 1 AND 10 GROUP BY T1.degree_summary_name ORDER BY COUNT(T2.student_enrolment_id) ASC LIMIT 10",What are the 11th to 20th degree programs with the least number of students enrolled in semesters 1 through 10?,6,False,extra
SELECT T1.first_name FROM Students AS T1 WHERE T1.current_address_id BETWEEN 100 AND 200 AND T1.date_first_registered > '2000-01-01' AND T1.student_id NOT IN (SELECT T2.student_id FROM Student_Enrolment AS T2) ORDER BY T1.student_id DESC,"What are the first names of students, listed in descending order of student ID, who registered after '2000-01-01' and have a current address ID between 100 and 200, and are not enrolled in any courses?",4,True,extra
SELECT COUNT(DISTINCT T1.degree_program_id) FROM Degree_Programs AS T1 JOIN Departments AS T2 ON T1.department_id = T2.department_id WHERE T1.degree_program_id BETWEEN 1 AND 100,How many unique degree programs with ids between 1 and 100 are there in any department?,4,True,medium
SELECT student_id FROM Students WHERE date_first_registered >= '2020-01-01',What are the student IDs of students who first registered in 2020 or later?,3,True,easy
SELECT AVG(T1.degree_summary_name) FROM Degree_Programs AS T1 JOIN Student_Enrolment AS T2 ON T1.degree_program_id = T2.degree_program_id WHERE T2.semester_id = 1 AND T1.degree_summary_name BETWEEN 'A' AND 'C' GROUP BY T1.degree_summary_name HAVING AVG(T1.degree_summary_name) > 50,"What is the average degree summary name for degree programs with names between A and C in semester 1, for those with an average greater than 50?",2,True,hard
"SELECT T1.degree_program_id, MAX(T2.semester_id) FROM Degree_Programs AS T1 JOIN Student_Enrolment AS T2 ON T1.degree_program_id = T2.degree_program_id WHERE T1.degree_summary_name <= 'Bachelor' ORDER BY MAX(T2.semester_id) DESC LIMIT 10",What are the top 10 degree programs with 'Bachelor' or lower degree summaries that have the latest student enrolment semesters?,6,False,extra
SELECT COUNT(department_id) FROM Degree_Programs WHERE department_id <= 10,How many degree programs are offered by the first ten departments?,6,False,easy
SELECT COUNT(DISTINCT T1.first_name) FROM Students AS T1 JOIN Student_Enrolment AS T2 ON T1.student_id = T2.student_id JOIN Student_Enrolment_Courses AS T3 ON T2.student_enrolment_id = T3.student_enrolment_id JOIN Courses AS T4 ON T3.course_id = T4.course_id WHERE NOT EXISTS (SELECT 1 FROM Degree_Programs AS T5 JOIN Departments AS T6 ON T5.department_id = T6.department_id WHERE T6.department_name = 'Mathematics') GROUP BY T1.first_name ORDER BY COUNT(DISTINCT T1.first_name) DESC,"Which students are not enrolled in degree programs from the Mathematics department, grouped by first name, ordered by the count of distinct first names in descending order?",6,False,extra
"SELECT T1.first_name, T2.degree_summary_name FROM Students AS T1 JOIN Student_Enrolment AS T3 ON T1.student_id = T3.student_id JOIN Degree_Programs AS T2 ON T3.degree_program_id = T2.degree_program_id JOIN Student_Enrolment_Courses AS T4 ON T3.student_enrolment_id = T4.student_enrolment_id JOIN Courses AS T5 ON T4.course_id = T5.course_id WHERE T5.course_id > 10 ORDER BY T1.first_name ASC","What are the first names of students and their degree summary names, given that students are enrolled in courses with course id greater than 10, listed in ascending order of first name?",2,True,extra
"SELECT AVG(T1.degree_program_id), T2.department_name FROM Degree_Programs AS T1 INNER JOIN Departments AS T2 ON T1.department_id = T2.department_id GROUP BY T2.department_name HAVING AVG(T1.degree_program_id) BETWEEN 10 AND 20",What are the department names and average degree program IDs for departments with average degree program IDs ranging from 10 to 20?,3,True,medium
"SELECT T1.student_id, COUNT(DISTINCT T2.course_id) FROM Students AS T1 JOIN Student_Enrolment_Courses AS T2 ON T1.student_id = T2.student_enrolment_id JOIN Student_Enrolment AS T3 ON T3.student_enrolment_id = T2.student_enrolment_id WHERE T1.student_id != T3.student_id LIMIT 10","What are the student ids and the number of distinct courses they are enrolled in, excluding the first 10 results?",6,False,extra
SELECT email_address FROM Students WHERE date_first_registered > '2020-01-01' ORDER BY date_first_registered DESC LIMIT 10,"What are the email addresses of the 11th to 20th students who registered after January 1st, 2020, in the order of most recent registrations?",5,True,hard
SELECT department_name FROM Departments WHERE department_id BETWEEN 10 AND 20 GROUP BY department_name HAVING AVG(department_id) > 100 ORDER BY department_id DESC LIMIT 5,"What are the names of the departments with average department ids greater than 100, with department ids between 10 and 20, listed in descending order, starting from the 6th entry, up to 5 entries?",6,False,extra
"SELECT COUNT(DISTINCT T1.degree_program_id), COUNT(DISTINCT T2.degree_summary_name), T3.first_name FROM Student_Enrolment AS T1 JOIN Degree_Programs AS T2 ON T1.degree_program_id = T2.degree_program_id JOIN Students AS T3 ON T1.student_id = T3.student_id WHERE T1.student_enrolment_id = (SELECT MAX(student_enrolment_id) FROM Student_Enrolment) LIMIT 10","What are the first name, distinct degree program id, and distinct degree summary name of the student with the highest student enrolment id, starting from the 11th row?",6,False,extra
"SELECT T1.first_name, T2.degree_summary_name FROM Students AS T1 JOIN Student_Enrolment AS T3 ON T1.student_id = T3.student_id JOIN Degree_Programs AS T2 ON T3.degree_program_id = T2.degree_program_id JOIN Student_Enrolment_Courses AS T5 ON T3.student_enrolment_id = T5.student_enrolment_id WHERE T1.student_id NOT IN (SELECT student_id FROM Student_Enrolment WHERE semester_id = 1) AND T5.student_course_id BETWEEN 100 AND 200 ORDER BY T1.first_name ASC LIMIT 10","What are the names and degree programs of the next 10 students who have not enrolled in the first semester and are taking courses between 100 and 200, ordered by first name?",6,False,extra
SELECT department_name FROM Departments WHERE department_id > 5 GROUP BY department_name HAVING COUNT(department_id) > 1 ORDER BY department_name DESC,"What are the department names that appear more than once and have a department id greater than 5, listed in descending order by department name?",3,True,hard
"SELECT S.last_name, S.first_name, C.course_name FROM Students AS S JOIN Student_Enrolment AS SE ON S.student_id = SE.student_id JOIN Student_Enrolment_Courses AS SEC ON SE.student_enrolment_id = SEC.student_enrolment_id JOIN Courses AS C ON SEC.course_id = C.course_id WHERE C.course_description < 'Introduction to Computer Science' ORDER BY S.last_name DESC LIMIT 10","What are the last names, first names, and course names of students who are enrolled in a course with a description that comes before 'Introduction to Computer Science' in alphabetical order, starting from the 11th result?",6,False,extra
SELECT T1.first_name FROM Students AS T1 JOIN Students AS T2 ON T1.student_id = T2.student_id WHERE T1.first_name = 'John' AND T2.first_name = 'Alice' AND T1.student_id BETWEEN 1 AND 10 AND EXISTS (SELECT 1 FROM Students AS T3 WHERE T3.student_id = T1.student_id),"What are the first names of students named John who have a matching student ID with a student named Alice and a student ID between 1 and 10, and who exist in the database?",5,True,extra
"SELECT department_id, MAX(degree_program_id) FROM Degree_Programs WHERE department_id <= 10","For each department with an id less than or equal to 10, what is the highest degree program id?",3,True,medium
"SELECT first_name, middle_name, last_name FROM Students WHERE date_first_registered BETWEEN '2000-01-01' AND '2020-01-01' ORDER BY first_name ASC",What are the names of students who first registered between 2000 and 2020 listed in alphabetical order by first name?,6,False,medium
SELECT COUNT(degree_program_id) FROM Degree_Programs WHERE department_id = 1,How many degree programs are offered by the department with id 1?,2,True,easy
"SELECT MIN(T1.degree_summary_name) , T2.course_name FROM Degree_Programs AS T1 JOIN Courses AS T2 ON T1.department_id = T2.course_id WHERE T1.degree_program_id > 10 LIMIT 5",What are the five course names of the degree programs with the smallest degree summary name for degree program ids greater than 10?,6,False,hard
SELECT student_id FROM Students WHERE date_first_registered < '1990-01-01',"What are the student ids of students who first registered before January 1, 1990?",2,True,easy
SELECT AVG(T3.semester_id) FROM Students AS T1 JOIN Student_Enrolment AS T2 ON T1.student_id = T2.student_id JOIN Semesters AS T3 ON T2.semester_id = T3.semester_id WHERE T1.first_name != 'John' GROUP BY T2.semester_id ORDER BY AVG(T3.semester_id) DESC,"What is the average semester ID of the semesters in which students, excluding those named John, are enrolled, ordered by the average semester ID in descending order?",6,True,extra
