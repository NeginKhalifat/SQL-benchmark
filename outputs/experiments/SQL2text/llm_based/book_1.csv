query,question,iter,flag,hardness
"SELECT COUNT(DISTINCT T1.ISBN), SUM(T2.amount) FROM Book AS T1 JOIN Books_Order AS T2 ON T1.ISBN = T2.ISBN WHERE T1.PurchasePrice >= 10","How many distinct books with a purchase price of at least 10 dollars have been ordered, and what is the total amount of these ordered books?",2,True,extra
SELECT SUM(SalePrice) FROM Book WHERE PurchasePrice >= 10 LIMIT 1,What is the total sale price of the second book with a purchase price above 10 dollars?,6,False,medium
"SELECT T1.Title, COUNT(T3.IdOrder) FROM Book AS T1 JOIN Books_Order AS T2 ON T1.ISBN = T2.ISBN JOIN Orders AS T3 ON T2.IdOrder = T3.IdOrder WHERE T3.IdClient IN (SELECT IdClient FROM Client) GROUP BY T1.Title ORDER BY T1.Title ASC","What are the titles of the books and their corresponding order counts, listed in ascending order by title? ",6,False,extra
"SELECT T1.Title, T2.Amount FROM Book AS T1 JOIN Books_Order AS T2 ON T1.ISBN = T2.ISBN WHERE T2.Amount > 10 AND T1.PurchasePrice BETWEEN 10 AND 100 AND T1.SalePrice > (SELECT AVG(SalePrice) FROM Book)","What are the titles and amounts of the books that are ordered more than 10 times, have a purchase price between 10 and 100, and have a sale price higher than the average sale price of all books?",5,True,extra
SELECT COUNT(DISTINCT T1.ISBN) FROM Book AS T1 WHERE EXISTS ( SELECT 1 FROM Books_Order AS T2 WHERE T2.ISBN = T1.ISBN ) ORDER BY T1.PurchasePrice DESC,"How many distinct books that have been ordered are there, listed in order of their purchase price from highest to lowest?",2,True,extra
SELECT Name FROM Client ORDER BY Name ASC LIMIT 10,What are the names of the 11th to 20th clients in alphabetical order?,2,True,medium
"SELECT T5.Name, AVG(T4.PurchasePrice) FROM Client AS T1 INNER JOIN Orders AS T2 ON T1.IdClient = T2.IdClient INNER JOIN Books_Order AS T3 ON T2.IdOrder = T3.IdOrder INNER JOIN Book AS T4 ON T3.ISBN = T4.ISBN INNER JOIN Author AS T5 ON T4.Author = T5.idAuthor WHERE T3.amount > 10 AND T4.PurchasePrice BETWEEN 100 AND 200 AND T4.Title = 'Book1' GROUP BY T5.Name LIMIT 10","What are the names of authors whose book 'Book1' is purchased at an average price of 100-200 dollars for more than 10 copies, listed from the 11th author onwards?",6,False,extra
SELECT IdClient FROM Client WHERE IdClient NOT IN (SELECT IdClient FROM Orders WHERE DateOrder > '2020-01-01'),Which client IDs have no orders placed after '2020-01-01'?,4,True,hard
SELECT T1.Title FROM Book AS T1 JOIN Books_Order AS T2 ON T1.ISBN = T2.ISBN WHERE T1.PurchasePrice > 10 OR T2.amount < 5 OR T1.SalePrice = (SELECT MIN(SalePrice) FROM Book) ORDER BY T1.Title DESC,"What are the titles of the books with a purchase price greater than 10, ordered amount less than 5, or the lowest sale price, listed in descending order by title?",2,True,extra
SELECT ISBN FROM Book WHERE EXISTS (SELECT 1 FROM Books_Order WHERE Books_Order.ISBN = Book.ISBN AND amount = 1) LIMIT 10,What are the ISBNs of the next 10 books that have been ordered only once?,6,False,extra
SELECT T1.IdClient FROM Client AS T1 JOIN Client AS T2 ON T1.IdClient = T2.IdClient WHERE T1.Name IN (SELECT Name FROM Client AS T3 WHERE T3.Address = 'Address'),What are the client ids of clients with an address that exists in the client list?,6,False,extra
"SELECT Title, Author FROM Book WHERE SalePrice = 500",What are the titles and authors of the books that have a sale price of 500?,3,True,medium
"SELECT T1.Title, SUM(T2.amount) FROM Book AS T1 JOIN Books_Order AS T2 ON T1.ISBN = T2.ISBN WHERE T2.amount = 10 GROUP BY T1.Title ORDER BY T1.Title ASC LIMIT 10","What are the titles of the books ordered 10 units at a time, along with the total amount of each, listed in alphabetical order, starting from the 11th book?",3,True,extra
SELECT T1.Name FROM Client AS T1 WHERE T1.IdClient NOT IN ( SELECT T2.IdClient FROM Orders AS T2 GROUP BY T2.IdClient HAVING COUNT(T2.IdClient) > 1 ),What are the names of the clients who have placed only one order?,2,True,hard
"SELECT COUNT(DISTINCT T1.IdClient), COUNT(T2.IdOrder), COUNT(T1.IdClient) FROM Client AS T1 JOIN Orders AS T2 ON T1.IdClient = T2.IdClient JOIN Books_Order AS T3 ON T2.IdOrder = T3.IdOrder WHERE T1.NumCC <= 10 LIMIT 1","What are the number of distinct clients, total orders, and total clients for the clients with a numcc less than or equal to 10, excluding the first record?",6,False,extra
SELECT COUNT(DISTINCT T1.idAuthor) FROM Author AS T1 JOIN Author_Book AS T2 ON T1.idAuthor = T2.Author JOIN Book AS T3 ON T2.ISBN = T3.ISBN JOIN Books_Order AS T4 ON T3.ISBN = T4.ISBN JOIN Orders AS T5 ON T4.IdOrder = T5.IdOrder WHERE T5.DateOrder < T5.DateExped,How many distinct authors have books in orders that were placed before they were shipped?,6,False,extra
"SELECT COUNT(DISTINCT T1.NumCC), T1.Name, T2.Title FROM Client AS T1 JOIN Books_Order AS T3 ON T1.IdClient = T3.IdOrder JOIN Book AS T2 ON T3.ISBN = T2.ISBN WHERE T1.IdClient IN (SELECT T4.IdClient FROM Orders AS T4 WHERE T4.DateExped > T4.DateOrder) ORDER BY COUNT(DISTINCT T1.NumCC) DESC","Which clients have made orders with a delayed delivery and what is the total count of their distinct credit cards ordered by this count in descending order, along with the title of the books ordered?",6,False,extra
SELECT IdClient FROM Client WHERE IdClient BETWEEN 1 AND 10 OR Name = 'John' OR Address = 'New York' ORDER BY IdClient DESC LIMIT 5,What are the client ids of the 5 clients with the highest ids among those whose ids are between 1 and 10 or whose names are 'John' or whose addresses are 'New York'?,2,True,extra
"SELECT T1.ISBN, COUNT(T2.amount) FROM Book AS T1 JOIN Books_Order AS T2 ON T1.ISBN = T2.ISBN JOIN Orders AS T3 ON T3.IdOrder = T2.IdOrder JOIN Client AS T4 ON T4.IdClient = T3.IdClient WHERE T4.Name != 'John' GROUP BY T1.ISBN ORDER BY COUNT(T2.amount) DESC","What are the ISBN numbers of books ordered by clients other than John, ranked by the number of times each book appears in orders from highest to lowest?",6,False,extra
"SELECT T1.Title, T2.Title FROM Book AS T1 JOIN Book AS T2 ON T1.PurchasePrice <= T2.PurchasePrice ORDER BY T1.PurchasePrice DESC LIMIT 10",What are the titles of the next 10 pairs of most expensive books?,6,False,hard
SELECT MAX(SalePrice) FROM Book WHERE PurchasePrice > 50,What is the highest sale price of a book that costs more than $50 to purchase?,3,True,easy
SELECT Title FROM Book WHERE Author = 'Author1' ORDER BY PurchasePrice ASC,What are the titles of books written by 'Author1' listed in ascending order of their purchase price?,6,False,medium
SELECT COUNT(DISTINCT ISBN) FROM Book WHERE Title = 'BookTitle',How many distinct ISBNs are there for the book titled 'BookTitle'?,3,True,easy
"SELECT T1.Title, SUM(T2.amount * T1.PurchasePrice) FROM Book AS T1 JOIN Books_Order AS T2 ON T1.ISBN = T2.ISBN GROUP BY T1.Title ORDER BY SUM(T2.amount * T1.PurchasePrice) DESC",What are the titles of the books with their total purchase value in descending order?,4,True,hard
