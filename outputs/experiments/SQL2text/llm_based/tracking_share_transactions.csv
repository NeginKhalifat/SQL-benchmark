query,question,iter,flag,hardness
"SELECT T1.investor_id, T1.Investor_details FROM Investors AS T1 WHERE EXISTS (SELECT 1 FROM Transactions AS T2 WHERE T2.investor_id = T1.investor_id AND T2.transaction_type_code = 'BUY' LIMIT 1)",What are the details of investors who have made at least one 'BUY' transaction?,2,True,extra
"SELECT investor_id, Investor_details FROM Investors AS T1 WHERE investor_id = 1 AND Investor_details = 'Details' ORDER BY investor_id DESC","What is the investor details of the investor with investor id 1 and investor details 'Details', listed in descending order of investor id?",3,True,extra
SELECT COUNT(transaction_id) FROM Transactions WHERE date_of_transaction > '2020-01-01' OR investor_id IN (SELECT investor_id FROM Investors WHERE Investor_details LIKE '%abc%'),"How many transactions occurred after January 1, 2020, or involved investors with details containing 'abc'?",2,True,extra
"SELECT AVG(T1.amount_of_transaction), MAX(T1.amount_of_transaction) FROM Transactions AS T1 INNER JOIN Investors AS T2 ON T1.investor_id = T2.investor_id WHERE T1.investor_id < 100 ORDER BY T1.amount_of_transaction DESC",What is the average and maximum transaction amount for investors with an investor ID less than 100?,6,False,hard
SELECT MIN(date_of_transaction) FROM Transactions WHERE amount_of_transaction >= 1000 ORDER BY date_of_transaction ASC,What is the earliest date of a transaction where the amount of transaction is greater than or equal to 1000?,2,True,medium
"SELECT COUNT(investor_id), SUM(amount_of_transaction), COUNT(date_of_transaction) FROM Transactions WHERE transaction_type_code = ""Purchase"" ORDER BY investor_id ASC","What is the total number of purchase transactions, total amount of transactions, and total number of transaction dates for each investor, listed in ascending order by investor ID?",6,False,extra
"SELECT COUNT(T1.transaction_id), SUM(T1.amount_of_transaction), T1.transaction_type_code FROM Transactions AS T1 JOIN Ref_Transaction_Types AS T2 ON T1.transaction_type_code = T2.transaction_type_code WHERE T1.amount_of_transaction > 1000 AND T1.transaction_type_code = 'SELL' AND T1.transaction_id IN (SELECT transaction_id FROM Transactions)",What is the total amount of 'SELL' transactions greater than 1000 and the count of such transactions?,6,False,extra
"SELECT T1.investor_id, SUM(T2.amount_of_transaction) FROM Transactions AS T1 JOIN Transactions AS T2 ON T1.transaction_id = T2.transaction_id WHERE T2.date_of_transaction <= '2020-01-01' GROUP BY T1.investor_id ORDER BY SUM(T2.amount_of_transaction) DESC","What are the total transaction amounts for each investor up to January 1, 2020, listed in descending order?",3,True,extra
SELECT T1.investor_id FROM Transactions AS T1 JOIN Investors AS T2 ON T1.investor_id = T2.investor_id WHERE T1.amount_of_transaction < 10000 ORDER BY T1.transaction_id DESC,"What are the investor ids for transactions with an amount less than 10000, listed in descending order of transaction id?",2,True,hard
SELECT * FROM Transactions WHERE transaction_id = 100 ORDER BY transaction_id DESC LIMIT 10,"What are the details of the 10 transactions with transaction IDs greater than 100, in descending order of transaction ID?",6,False,hard
"SELECT T1.Investor_details, T2.lot_details FROM Investors AS T1 JOIN Lots AS T2 ON T1.investor_id = T2.investor_id JOIN Transactions AS T3 ON T3.investor_id = T2.investor_id WHERE T3.transaction_type_code = 'Buy' AND T3.amount_of_transaction > 1000 AND T3.transaction_id IN (SELECT T4.transaction_id FROM Transactions_Lots AS T4 JOIN Lots AS T5 ON T4.lot_id = T5.lot_id WHERE T5.lot_details LIKE '%large%')",What are the investor details and lot details for investors who purchased large lots with a transaction amount greater than 1000?,6,False,extra
"SELECT share_count, COUNT(transaction_id), SUM(amount_of_transaction) FROM Transactions WHERE transaction_type_code != 'S' GROUP BY share_count ORDER BY COUNT(transaction_id) DESC LIMIT 10","What are the top 10 transaction share counts with the most transactions, excluding sales, along with the total number of transactions and the total transaction amount for each share count?",3,True,extra
"SELECT T1.Investor_details, T2.lot_details FROM Investors AS T1 JOIN Lots AS T2 ON T1.investor_id = T2.investor_id JOIN Transactions AS T3 ON T2.lot_id = T3.transaction_id WHERE T3.amount_of_transaction >= 1000 AND T3.share_count >= 10",What are the investor details and lot details for transactions with an amount of at least 1000 and a share count of at least 10?,6,False,hard
"SELECT COUNT(DISTINCT T1.investor_id), COUNT(T2.transaction_id), SUM(T1.investor_id) FROM Investors AS T1 JOIN Transactions AS T2 ON T1.investor_id = T2.investor_id WHERE T2.transaction_type_code < 'A'","What are the number of unique investors, total transactions, and sum of investor ids for transactions with a transaction type code before 'A'?",6,False,extra
"SELECT T1.investor_id, T3.lot_id FROM Investors AS T1 JOIN Transactions AS T2 ON T1.investor_id = T2.investor_id JOIN Transactions_Lots AS T3 ON T2.transaction_id = T3.transaction_id WHERE T3.lot_id > 1000 LIMIT 10",What are the investor ids and corresponding lot ids for the next 10 investors with lot ids greater than 1000?,6,False,extra
"SELECT T1.investor_id, T2.lot_id FROM Investors AS T1 JOIN Lots AS T2 ON T1.investor_id = T2.investor_id JOIN Transactions AS T3 ON T3.investor_id = T1.investor_id WHERE T3.transaction_type_code = 'BUY' OR EXISTS (SELECT 1 FROM Ref_Transaction_Types WHERE transaction_type_code = 'SELL') AND T3.amount_of_transaction > 10000 ORDER BY T1.investor_id DESC LIMIT 10",What are the investor and lot IDs of the top 10 investors with the highest investor IDs who either bought transactions or have a selling transaction type and have a transaction amount greater than 10000?,6,False,extra
"SELECT T1.investor_id, COUNT(DISTINCT T2.lot_id) FROM Investors AS T1 JOIN Lots AS T2 ON T1.investor_id = T2.investor_id WHERE T1.investor_id = 1 GROUP BY T1.investor_id HAVING COUNT(T2.lot_id) > 2 ORDER BY T1.investor_id DESC","What is the investor id and number of distinct lots owned by an investor with more than 2 lots, ordered by investor id in descending order, for the investor with id 1?",3,True,extra
SELECT T1.investor_id FROM Investors AS T1 JOIN Transactions AS T2 ON T1.investor_id = T2.investor_id WHERE T2.amount_of_transaction < 10000 LIMIT 5,What are the investor ids of the next 5 investors who made transactions with amounts less than 10000?,6,False,hard
SELECT investor_id FROM Investors WHERE investor_id <= 100,What are the investor ids of the investors with an investor id less than or equal to 100?,2,True,easy
SELECT Investor_details FROM Investors WHERE investor_id <= 500 ORDER BY investor_id DESC,"What are the investor details for investors with an investor id of 500 or less, listed in descending order by investor id?",2,True,medium
"SELECT T1.investor_id, T2.lot_details FROM Investors AS T1 JOIN Lots AS T2 ON T1.investor_id = T2.investor_id WHERE T2.lot_id <= 10",What are the investor ids and corresponding lot details for lots with id less than or equal to 10?,4,True,medium
"SELECT T1.investor_id, SUM(T2.amount_of_transaction) FROM Investors AS T1 JOIN Transactions AS T2 ON T1.investor_id = T2.investor_id GROUP BY T1.investor_id LIMIT 5",What are the investor ids and their total transaction amounts for the 6th to 10th highest total transaction amounts?,6,False,hard
"SELECT SUM(T1.share_count), SUM(T2.share_count) FROM Transactions AS T1 JOIN Transactions AS T2 ON T1.transaction_type_code = T2.transaction_type_code WHERE T1.amount_of_transaction >= 10000 ORDER BY T1.transaction_id ASC LIMIT 10","What are the total share counts for each pair of transactions with the same transaction type code, where the amount of transaction is greater than or equal to 10000, for the 11th to 20th transactions?",6,False,extra
"SELECT investor_id, Investor_details FROM Investors WHERE investor_id >= 100 ORDER BY investor_id ASC","What are the investor ids and their corresponding details of investors with an investor id of 100 or higher, listed in ascending order by investor id?",2,True,medium
"SELECT T1.investor_id, COUNT(T3.transaction_id) FROM Investors AS T1 JOIN Transactions AS T2 ON T1.investor_id = T2.investor_id JOIN Transactions_Lots AS T3 ON T2.transaction_id = T3.transaction_id",What are the investor ids and their corresponding total number of transactions lots?,3,True,medium
