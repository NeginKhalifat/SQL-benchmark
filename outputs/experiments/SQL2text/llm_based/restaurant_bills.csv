query,question,iter,flag,hardness
"SELECT COUNT(DISTINCT T2.Dish_Name), COUNT(DISTINCT T1.Customer_ID) FROM customer AS T1 INNER JOIN customer_order AS T2 ON T1.Customer_ID = T2.Customer_ID INNER JOIN branch AS T3 ON T2.Branch_ID = T3.Branch_ID WHERE T3.Manager != 'Manager' ORDER BY T1.Customer_ID ASC","What are the counts of distinct dishes ordered and distinct customers at branches not managed by a 'Manager', listed in ascending order by customer ID?",6,False,extra
"SELECT SUM(T1.Card_Credit), SUM(T1.Level_of_Membership), SUM(T2.Quantity) FROM customer AS T1 JOIN customer_order AS T2 ON T1.Customer_ID = T2.Customer_ID WHERE T1.Level_of_Membership BETWEEN 1 AND 3 AND T2.Quantity > 5 GROUP BY T1.Customer_ID HAVING SUM(T2.Quantity) > 10 ORDER BY T1.Customer_ID ASC LIMIT 10","What are the sums of card credit, level of membership, and quantity for customers with a membership level between 1 and 3, quantity greater than 5, and total quantity greater than 10, ordered by customer ID and showing results from 11 to 20?",4,True,extra
"SELECT T1.Name, T2.Dish_Name, T3.Manager FROM customer AS T1 JOIN customer_order AS T2 ON T1.Customer_ID = T2.Customer_ID JOIN branch AS T3 ON T2.Branch_ID = T3.Branch_ID WHERE T1.Level_of_Membership BETWEEN 1 AND 3 AND T2.Quantity > (SELECT AVG(Quantity) FROM customer_order)","What are the names of customers with a membership level between 1 and 3, the dishes they ordered in quantities greater than the average order quantity, and the managers of the branches where they placed their orders?",6,False,extra
"SELECT T1.Name, COUNT(DISTINCT T1.Customer_ID) FROM customer AS T1 JOIN customer_order AS T2 ON T1.Customer_ID = T2.Customer_ID WHERE NOT EXISTS (SELECT 1 FROM branch AS T3 WHERE T3.Branch_ID = T2.Branch_ID AND T3.Manager = 'Manager') ORDER BY T1.Customer_ID ASC","What are the names of customers and the number of unique customer IDs of customers who have never ordered from branches managed by 'Manager', listed in ascending order of customer ID?",6,False,extra
"SELECT T1.Name, SUM(T3.Quantity) FROM customer AS T1 JOIN customer_order AS T3 ON T1.Customer_ID = T3.Customer_ID JOIN branch AS T2 ON T3.Branch_ID = T2.Branch_ID WHERE T2.Location_of_office = 'New York' OR T1.Nationality = 'USA' OR T3.Quantity BETWEEN 10 AND 20 LIMIT 10",What are the names of the top 10 customers from New York branches or USA nationality with total order quantities between 10 and 20,6,False,extra
SELECT COUNT(DISTINCT T1.Customer_ID) FROM customer AS T1 JOIN customer_order AS T2 ON T1.Customer_ID = T2.Customer_ID LIMIT 10,"What are the number of unique customers who have placed an order, listed 11th to 20th?",2,True,medium
SELECT T1.Customer_ID FROM customer AS T1 JOIN customer_order AS T2 ON T1.Customer_ID = T2.Customer_ID JOIN branch AS T3 ON T3.Branch_ID = T2.Branch_ID WHERE T2.Quantity BETWEEN 1 AND 10 AND T1.Customer_ID NOT IN (SELECT T1.Customer_ID FROM customer AS T1 JOIN customer_order AS T2 ON T1.Customer_ID = T2.Customer_ID JOIN branch AS T3 ON T3.Branch_ID = T2.Branch_ID WHERE T2.Branch_ID = 101),What are the customer IDs of customers who ordered between 1 and 10 items and have never ordered from branch 101?,4,True,extra
"SELECT T1.Customer_ID, COUNT(DISTINCT T2.Branch_ID) FROM customer AS T1 JOIN customer_order AS T2 ON T1.Customer_ID = T2.Customer_ID GROUP BY T1.Customer_ID HAVING COUNT(T1.Customer_ID) > 1",Which customers have placed orders in more than one branch and how many branches have they ordered from?,6,False,medium
"SELECT T1.Nationality, COUNT(DISTINCT T2.Dish_Name) FROM customer AS T1 JOIN customer_order AS T2 ON T1.Customer_ID = T2.Customer_ID WHERE T2.Quantity < 5 GROUP BY T1.Nationality","For each nationality, how many distinct dishes are ordered in quantities of less than 5?",2,True,hard
SELECT T1.Customer_ID FROM customer AS T1 WHERE T1.Card_Credit BETWEEN 500 AND 2000 AND NOT EXISTS (SELECT T2.Customer_ID FROM customer_order AS T2 WHERE T2.Customer_ID = T1.Customer_ID AND T2.Quantity > 10) ORDER BY T1.Card_Credit DESC LIMIT 10,"Which are the next 10 customer ids with card credit between 500 and 2000 and have not ordered more than 10 items, listed in descending order of card credit?",6,False,extra
"SELECT T1.Name, COUNT(T2.Quantity) FROM customer AS T1 JOIN customer_order AS T2 ON T1.Customer_ID = T2.Customer_ID WHERE T1.Card_Credit BETWEEN 1000 AND 2000 AND T1.Level_of_Membership IN (SELECT Level_of_Membership FROM customer WHERE Nationality = 'USA') GROUP BY T1.Name ORDER BY T1.Name ASC","What is the total quantity of orders placed by each customer with a card credit between 1000 and 2000 and the same level of membership as a customer from the USA, listed in ascending order by customer name?",6,False,extra
"SELECT T1.Name, SUM(T3.Quantity) FROM customer AS T1 JOIN customer_order AS T3 ON T1.Customer_ID = T3.Customer_ID WHERE T1.Card_Credit <= 100 ORDER BY T1.Name DESC","What are the names of the customers with a credit of 100 or less, along with the total quantity of dishes they ordered, listed in descending order by name?",3,True,hard
"SELECT SUM(Card_Credit) AS total_credit, COUNT(Level_of_Membership) AS total_membership FROM customer AS t1",What is the total credit and the total number of membership levels of all customers?,2,True,medium
SELECT Name FROM customer WHERE Card_Credit <= 5000 ORDER BY Level_of_Membership ASC,"What are the names of the customers with a credit limit of less than or equal to 5000, listed in ascending order of their membership levels?",2,True,medium
"SELECT COUNT(Level_of_Membership), SUM(Card_Credit) FROM customer",What is the total count of membership levels and total card credits of all customers?,2,True,medium
"SELECT COUNT(DISTINCT T1.Customer_ID), T1.Level_of_Membership FROM customer AS T1 WHERE T1.Card_Credit < 10000 AND T1.Card_Credit > 5000 AND T1.Nationality = 'USA'","How many distinct USA customers and the levels of membership do these customers have, given that their card credit is between 5000 and 10000?",3,True,medium
"SELECT COUNT(DISTINCT T1.Customer_ID) , COUNT(DISTINCT T1.Nationality) , COUNT(DISTINCT T1.Level_of_Membership) FROM customer AS T1 ORDER BY T1.Customer_ID DESC","What are the counts of total unique customer IDs, unique nationalities, and unique membership levels among all customers when ordered by customer ID in descending order?",3,True,medium
"SELECT Name, Nationality FROM customer WHERE Card_Credit = 1000 AND Level_of_Membership < 3 ORDER BY Name ASC LIMIT 10","What are the names and nationalities of the next 10 customers with a card credit of 1000 and a membership level less than 3, listed in ascending order by name?",3,True,hard
"SELECT COUNT(DISTINCT T1.Customer_ID), COUNT(T2.Customer_ID) FROM customer AS T1 JOIN customer_order AS T2 ON T1.Customer_ID = T2.Customer_ID WHERE T1.Level_of_Membership = 1 AND T1.Card_Credit > 1000 AND NOT EXISTS (SELECT 1 FROM branch AS T3 WHERE T3.Branch_ID = T2.Branch_ID AND T3.Years_opened < 5) ORDER BY T1.Customer_ID ASC",How many distinct customers with a membership level of 1 and a credit card limit over 1000 have placed orders in branches that have been open for at least 5 years?,3,True,extra
"SELECT T1.Name, T2.Dish_Name FROM customer AS T1 JOIN customer_order AS T2 ON T1.Customer_ID = T2.Customer_ID WHERE T1.Level_of_Membership > 5 OR T1.Card_Credit = 1000 OR NOT EXISTS (SELECT 1 FROM branch AS T3 WHERE T2.Branch_ID = T3.Branch_ID AND T3.Years_opened < 5)","What are the names of customers with a membership level above 5 or a card credit of 1000, and what dishes did they order from branches that have been open for at least 5 years or from any branch if the customer's conditions are met?",6,False,extra
SELECT Name FROM customer WHERE Level_of_Membership IN (SELECT Level_of_Membership FROM customer WHERE Card_Credit > 100) ORDER BY Customer_ID ASC LIMIT 5,"What are the names of the next 5 customers with the same level of membership as those with a credit card balance over 100, listed in ascending customer ID order?",2,True,extra
"SELECT T1.Branch_ID, SUM(T1.Quantity) FROM customer_order AS T1 WHERE T1.Branch_ID IN (SELECT T2.Branch_ID FROM branch AS T2 WHERE T2.Years_opened > 10) GROUP BY T1.Branch_ID ORDER BY SUM(T1.Quantity) ASC","What is the total quantity of orders for each branch that has been open for more than 10 years, listed in ascending order by total quantity?",3,True,extra
