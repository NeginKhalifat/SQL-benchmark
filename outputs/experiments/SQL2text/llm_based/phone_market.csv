query,question,iter,flag,hardness
SELECT T1.Name FROM phone AS T1 JOIN phone_market AS T2 ON T1.Phone_ID = T2.Phone_ID JOIN market AS T3 ON T3.Market_ID = T2.Market_ID,What are the names of the phones that are available in the market?,6,False,medium
"SELECT T1.Name, T2.Num_of_stock FROM phone AS T1 JOIN phone_market AS T2 ON T1.Phone_ID = T2.Phone_ID WHERE T2.Num_of_stock BETWEEN 100 AND 500 ORDER BY T1.Name DESC","What are the names of phones with their corresponding stock quantities in the market, where the stock quantity is between 100 and 500, listed in descending order by phone name?",2,True,hard
SELECT COUNT(DISTINCT T1.Name) FROM phone AS T1 WHERE T1.Phone_ID IN (SELECT T2.Phone_ID FROM phone_market AS T2 WHERE T2.Num_of_stock > 100) LIMIT 10,What are the names of the next 10 unique phones with stock greater than 100 in the market?,6,False,extra
SELECT COUNT(*) FROM phone WHERE Price BETWEEN 500 AND 800 AND EXISTS (SELECT * FROM phone_market WHERE phone.Phone_ID = phone_market.Phone_ID AND phone_market.Num_of_stock > 500) LIMIT 10,What are the next 10 phone models with prices between 500 and 800 that have more than 500 stock in the phone market?,6,False,extra
"SELECT T1.District, COUNT(T2.Phone_ID) FROM market AS T1 JOIN phone_market AS T2 ON T1.Market_ID = T2.Market_ID GROUP BY T1.District HAVING COUNT(T2.Phone_ID) <= 10",Which districts have 10 or fewer phones?,6,False,medium
SELECT T1.Name FROM phone AS T1 WHERE T1.Price BETWEEN 100 AND 500 AND T1.Carrier = 'Carrier_X' AND NOT EXISTS ( SELECT 1 FROM market AS T2 WHERE T2.District = 'District_X' ),"What is the name of the phone with Carrier_X and a price between 100 and 500, given that a district named District_X does not exist in the market?",6,False,extra
"SELECT Carrier, COUNT(Phone_ID) FROM phone AS T1 WHERE Price >= 500 LIMIT 5",Which 5 carriers have the most phones with a price of at least $500?,6,False,medium
SELECT COUNT(T1.Name) FROM phone AS T1 JOIN phone_market AS T2 ON T1.Phone_ID = T2.Phone_ID JOIN market AS T3 ON T2.Market_ID = T3.Market_ID WHERE T3.Num_of_shops BETWEEN 5 AND 10 LIMIT 5,"What are the names of phones sold in 5 to 10 shops, listed 5th to 10th?",6,False,extra
"SELECT Name, Price FROM phone WHERE Price > 1000 ORDER BY Price DESC","What are the names and prices of the phones that cost more than $1000, listed in order of highest price to lowest?",2,True,medium
"SELECT T1.Name, T1.Price FROM phone AS T1 JOIN phone_market AS T2 ON T1.Phone_ID = T2.Phone_ID WHERE T2.Market_ID NOT IN (SELECT T3.Market_ID FROM market AS T3 WHERE T3.Num_of_employees < 100 AND T3.Ranking > 50) LIMIT 10",What are the names and prices of the next 10 phones sold in markets with at least 100 employees or a ranking of 50 or less?,2,True,extra
"SELECT T1.Name, T1.Carrier FROM phone AS T1 JOIN phone_market AS T2 ON T1.Phone_ID = T2.Phone_ID JOIN market AS T3 ON T3.Market_ID = T2.Market_ID WHERE T2.Num_of_stock < 100 AND T3.Ranking = 1 ORDER BY T1.Name DESC","What are the names and carriers of phones with less than 100 items in stock in the top-ranked market, listed in descending order by phone name?",2,True,extra
"SELECT T1.Name, AVG(T2.Num_of_stock) FROM phone AS T1 JOIN phone_market AS T2 ON T1.Phone_ID = T2.Phone_ID WHERE T1.Carrier != 'AT&T' GROUP BY T1.Name HAVING AVG(T2.Num_of_stock) > 100 ORDER BY T1.Name DESC","What are the names of phones from carriers other than AT&T, along with their average stock count, for phones with an average stock count greater than 100, listed in descending order by phone name?",2,True,extra
"SELECT T1.Name, T1.Carrier, T1.Price FROM phone AS T1 WHERE T1.Carrier != 'AT&T'","What are the names, carriers, and prices of phones that are not from AT&T?",3,True,medium
SELECT AVG(Price) FROM phone WHERE Memory_in_G > 128 OR EXISTS ( SELECT 1 FROM phone_market WHERE phone_market.Phone_ID = phone.Phone_ID AND Num_of_stock > 100 ) OR EXISTS ( SELECT 1 FROM market WHERE market.Market_ID = 101 ),"What is the average price of phones that either have more than 128GB of memory, or are in stock in more than 100 units in the phone market, or are available in the market with ID 101?",6,False,extra
SELECT Name FROM phone WHERE Carrier = 'AT&T' OR Price < 500 AND Name NOT IN (SELECT Name FROM phone WHERE Phone_ID = 'iPhone13'),What are the names of the phones offered by 'AT&T' or priced less than 500 that are not 'iPhone13'?,6,False,extra
SELECT Name FROM phone WHERE Price < 1000,What are the names of phones that cost less than $1000?,2,True,easy
"SELECT T1.Name, T2.Num_of_stock FROM phone AS T1 JOIN phone_market AS T2 ON T1.Phone_ID = T2.Phone_ID JOIN market AS T3 ON T3.Market_ID = T2.Market_ID WHERE T2.Num_of_stock != 0",What are the names of phones that have stock in any market and in what quantity?,2,True,hard
SELECT COUNT(DISTINCT Carrier) FROM phone AS T1 ORDER BY Carrier ASC,"How many distinct carriers of phones are there, listed in ascending order?",3,True,easy
"SELECT T1.Carrier, T2.District FROM phone AS T1 JOIN market AS T2 ON T1.Phone_ID = T2.Market_ID WHERE T1.Price > 100 OR T1.Memory_in_G BETWEEN 32 AND 64 AND T1.Name = 'Apple' ORDER BY T2.Ranking ASC","What are the carriers and districts of Apple phones with either a price greater than 100, or a memory of 32 to 64 GB, listed in ascending order of district ranking?",3,True,extra
"SELECT T1.Name, T3.District FROM phone AS T1 JOIN phone_market AS T2 ON T1.Phone_ID = T2.Phone_ID JOIN market AS T3 ON T2.Market_ID = T3.Market_ID WHERE T1.Price >= 500 AND T1.Carrier = 'Verizon'","What are the names of the phones offered by Verizon that cost at least $500, and in which district are they sold?",2,True,hard
"SELECT Name, Carrier FROM phone WHERE Price = 500",What are the names and carriers of phones that cost 500?,2,True,medium
"SELECT T1.Name, T2.District FROM phone AS T1 JOIN market AS T2 ON T1.Phone_ID = T2.Market_ID WHERE T1.Carrier != 'AT&T'",What are the names of the phones and their respective districts for phones that are not from AT&T?,2,True,medium
"SELECT T1.Name, T2.Num_of_stock FROM phone AS T1 JOIN phone_market AS T2 ON T1.Phone_ID = T2.Phone_ID WHERE T2.Num_of_stock BETWEEN 100 AND 200 ORDER BY T1.Name ASC","What are the names of phones with stock between 100 and 200, listed in ascending order by name, along with the corresponding stock amounts?",3,True,hard
