query,question,iter,flag,hardness
"SELECT COUNT(DISTINCT T2.visitor_ID) , COUNT(DISTINCT T1.Museum_ID) , T1.Num_of_Staff FROM museum AS T1 JOIN visit AS T2 ON T1.Museum_ID = T2.Museum_ID WHERE T2.Num_of_Ticket >= 1 ORDER BY T1.Num_of_Staff DESC","How many distinct visitors visited and which museums had these visitors with at least one ticket sold, sorted by the number of staff in descending order?",6,False,hard
"SELECT T1.Name, T2.Name FROM museum AS T1 JOIN museum AS T2 ON T1.Museum_ID < T2.Museum_ID LIMIT 10","What are the names of the first 10 pairs of museums, where the first museum in each pair has a smaller museum id than the second museum?",2,True,medium
"SELECT COUNT(Museum_ID), SUM(Num_of_Staff) FROM museum LIMIT 10",What are the total number of museums and total staff count for museums ranked 11th to 20th?,5,True,medium
"SELECT T1.Name, MAX(T1.Num_of_Staff) FROM museum AS T1 WHERE T1.Museum_ID = 1 AND T1.Open_Year BETWEEN '1950' AND '1970' AND T1.Name = 'Art Gallery' GROUP BY T1.Name LIMIT 10","What is the name of the 'Art Gallery' museum with the maximum number of staff, opened between 1950 and 1970, with museum id 1?",6,False,hard
SELECT MIN(T1.Num_of_Staff) FROM museum AS T1 WHERE T1.Museum_ID IN ( SELECT T2.Museum_ID FROM visit AS T2 GROUP BY T2.Museum_ID HAVING MIN(T2.Num_of_Ticket) = 10 ),What is the minimum number of staff among museums where at least one visit had 10 tickets sold?,6,False,hard
"SELECT T1.Name, SUM(T2.Num_of_Ticket) FROM museum AS T1 JOIN visit AS T2 ON T1.Museum_ID = T2.Museum_ID WHERE T1.Num_of_Staff < 50 GROUP BY T1.Name LIMIT 10",What are the names of the next 10 museums with less than 50 staff members and the total tickets sold for each museum?,2,True,extra
"SELECT T1.Name, MIN(T3.Total_spent) FROM museum AS T1 JOIN visit AS T3 ON T1.Museum_ID = T3.Museum_ID GROUP BY T1.Name",What is the name of the museum and the minimum amount spent by visitors at each museum?,2,True,medium
"SELECT T1.Name, COUNT(T2.Museum_ID) FROM museum AS T1 JOIN visit AS T2 ON T1.Museum_ID = T2.Museum_ID WHERE T1.Open_Year BETWEEN '1990' AND '2000' AND T2.Num_of_Ticket > 5 GROUP BY T1.Name HAVING COUNT(T2.Museum_ID) > 100 ORDER BY COUNT(T2.Museum_ID) DESC","What are the names of museums opened between 1990 and 2000 that were visited more than 100 times with more than 5 tickets, sorted by the number of visits in descending order?",6,False,extra
"SELECT T1.Name, SUM(T2.Num_of_Ticket) FROM museum AS T1 JOIN visit AS T2 ON T1.Museum_ID = T2.Museum_ID",What is the name of each museum and the total number of tickets sold for each museum?,2,True,medium
"SELECT T1.Name, MIN(T1.Num_of_Staff) FROM museum AS T1 JOIN museum AS T2 ON T1.Museum_ID = T2.Museum_ID WHERE NOT EXISTS (SELECT 1 FROM visit WHERE visit.Museum_ID = T1.Museum_ID) GROUP BY T1.Name ORDER BY T1.Num_of_Staff DESC","What are the names of the museums that have not been visited, listed in descending order of their staff numbers, along with their minimum staff numbers?",3,True,extra
SELECT T1.Name FROM museum AS T1 JOIN visit AS T2 ON T1.Museum_ID = T2.Museum_ID WHERE T1.Museum_ID IN (SELECT T2.Museum_ID FROM visit AS T2 GROUP BY T2.Museum_ID HAVING SUM(T2.Total_spent) > 10000),"What are the names of the museums where the total amount spent by all visitors is greater than $10,000?",2,True,extra
"SELECT COUNT(Museum_ID), SUM(Num_of_Staff), COUNT(Open_Year) FROM museum","What are the total number of museums, the total number of staff, and the number of museums with an opening year?",2,True,medium
SELECT SUM(Num_of_Staff) FROM museum WHERE Open_Year = '1900',What is the total number of staff in museums that opened in the year 1900?,6,False,easy
"SELECT T1.Museum_ID, T2.Museum_ID, COUNT(T1.Museum_ID), COUNT(T2.Museum_ID) FROM visit AS T1 JOIN visit AS T2 ON T1.Museum_ID = T2.Museum_ID WHERE T1.Num_of_Ticket BETWEEN T2.Num_of_Ticket - 5 AND T2.Num_of_Ticket + 5 ORDER BY T1.Museum_ID DESC","What are the museum IDs and their corresponding counts of visits where the number of tickets sold is within 5 of each other, ordered by museum ID in descending order?",6,False,hard
"SELECT T1.Name, T2.Total_spent FROM museum AS T1 JOIN visit AS T2 ON T1.Museum_ID = T2.Museum_ID WHERE T2.Num_of_Ticket > 10 ORDER BY T2.Total_spent ASC","What are the names of the museums with total spending from visits with more than 10 tickets, listed in ascending order of total spending?",6,False,hard
"SELECT m.Name, MAX(vi.Num_of_Ticket) FROM museum m JOIN visit vi ON m.Museum_ID = vi.Museum_ID GROUP BY m.Name HAVING vi.Num_of_Ticket BETWEEN 100 AND 200","Which museum names have the highest number of tickets sold in a visit, given that the number of tickets sold is between 100 and 200?",6,False,medium
SELECT Museum_ID FROM museum WHERE EXISTS (SELECT 1 FROM visit WHERE museum.Museum_ID = visit.Museum_ID AND Total_spent > 100 LIMIT 1),What are the museum IDs of museums where at least one visitor has spent more than 100?,4,True,hard
"SELECT T1.Name, T2.Total_spent FROM museum AS T1 JOIN visit AS T2 ON T1.Museum_ID = T2.Museum_ID JOIN visitor AS T3 ON T2.visitor_ID = T3.ID WHERE T3.Age BETWEEN 20 AND 30 OR T2.Num_of_Ticket = 5 OR EXISTS (SELECT 1 FROM visitor WHERE Level_of_membership > 2) LIMIT 10","What are the names of museums and the total amount spent by visitors aged 20 to 30 or who bought 5 tickets, along with any visitor having a membership level greater than 2, listing from 11th to 20th?",6,False,extra
"SELECT T1.Name, T2.Total_spent FROM museum AS T1 JOIN visit AS T2 ON T1.Museum_ID = T2.Museum_ID WHERE T1.Open_Year < 2000 ORDER BY T2.Total_spent ASC","What are the names of museums opened before the year 2000, listed in ascending order of total spending?",6,False,hard
"SELECT T1.Name FROM (SELECT Name, Museum_ID FROM museum WHERE Museum_ID IN (SELECT Museum_ID FROM visit WHERE visitor_ID IN (SELECT ID FROM visitor WHERE Level_of_membership > 2))) AS T1 ORDER BY T1.Name ASC LIMIT 10","What are the names of the 11th to 20th museums visited by visitors with a membership level higher than 2, listed alphabetically?",5,True,medium
