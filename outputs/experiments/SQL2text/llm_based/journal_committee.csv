query,question,iter,flag,hardness
"SELECT Theme, MAX(Sales) FROM journal GROUP BY Theme ORDER BY MAX(Sales) DESC","What are the themes in the journal with their maximum sales, listed in order of highest sales first?",3,True,medium
SELECT AVG(j.Sales) FROM journal AS j JOIN journal_committee AS jc ON j.Journal_ID = jc.Journal_ID WHERE j.Sales > 500 OR jc.Work_Type = 'Editor' OR NOT EXISTS (SELECT * FROM journal_committee jc2 WHERE jc2.Journal_ID = j.Journal_ID AND jc2.Work_Type = 'Reviewer') GROUP BY j.Date,"What is the average sales for each date of journals that either have sales greater than 500, have an editor, or do not have a reviewer?",6,True,extra
"SELECT T1.Name, COUNT(DISTINCT T2.Journal_ID) FROM editor AS T1 INNER JOIN journal_committee AS T2 ON T1.Editor_ID = T2.Editor_ID WHERE T2.Journal_ID NOT IN (SELECT Journal_ID FROM journal WHERE Theme = 'Science') GROUP BY T1.Name HAVING MIN(T2.Work_Type) = 'Reviewer' ORDER BY COUNT(DISTINCT T2.Journal_ID) DESC","What are the names of the editors who are reviewers of journals that are not science journals, listed in descending order by the number of journals they are associated with?",6,False,extra
SELECT Theme FROM journal WHERE Sales > 100 ORDER BY Theme DESC LIMIT 10,"What are the top 10 themes with the highest sales for journals with more than 100 sales, ranked in descending order, excluding the first 10?",6,False,hard
"SELECT T1.Journal_ID, SUM(T1.Sales) FROM journal AS T1 WHERE T1.Date < '2000-01-01' GROUP BY T1.Journal_ID",What are the total sales for each journal before the year 2000?,6,False,medium
"SELECT COUNT(DISTINCT T2.Editor_ID), T1.Theme FROM journal AS T1 JOIN journal_committee AS T2 ON T1.Journal_ID = T2.Journal_ID WHERE T2.Work_Type != 'Editor'","For each theme, how many distinct editors other than those who worked as editors are involved in the journal committee?",6,False,medium
SELECT AVG(Sales) FROM journal WHERE Date BETWEEN '2000-01-01' AND '2020-12-31' OR Theme = 'Science' ORDER BY Sales ASC,"What is the average sales of journals from the year 2000 to 2020 or with the theme 'Science', listed from lowest to highest sales?",2,True,hard
"SELECT T1.Date, T1.Theme FROM journal AS T1 JOIN journal_committee AS T2 ON T1.Journal_ID = T2.Journal_ID WHERE T1.Sales > 100 AND T2.Work_Type > 'Editor'",What are the dates and themes of the journals with sales greater than 100 that have a work type higher than 'Editor'?,2,True,extra
SELECT Theme FROM journal WHERE Sales > 100,What are the themes of the journals with sales greater than 100?,2,True,easy
"SELECT e.Name, SUM(j.Sales) FROM editor e JOIN journal_committee jc ON e.Editor_ID = jc.Editor_ID JOIN journal j ON jc.Journal_ID = j.Journal_ID WHERE e.Age <= 30 GROUP BY e.Name","What are the total sales of journals edited by editors who are 30 years old or younger, listed by editor name?",2,True,extra
"SELECT T1.Name, T3.Date FROM editor AS T1 JOIN journal_committee AS T2 ON T1.Editor_ID = T2.Editor_ID JOIN journal AS T3 ON T2.Journal_ID = T3.Journal_ID WHERE T2.Work_Type = 'Editor' AND T3.Date BETWEEN '2020-01-01' AND '2020-12-31' AND T3.Sales > 100 ORDER BY T3.Date ASC","What are the names of the editors and the corresponding dates for journals with sales over 100, published in 2020, and edited by the mentioned editor, listed in chronological order by date?",4,True,extra
"SELECT T1.Name, COUNT(T2.Journal_ID), T3.Sales FROM editor AS T1 JOIN journal_committee AS T2 ON T1.Editor_ID = T2.Editor_ID JOIN journal AS T3 ON T2.Journal_ID = T3.Journal_ID WHERE T3.Date BETWEEN '2020-01-01' AND '2020-12-31' AND T2.Work_Type IN (SELECT Work_Type FROM journal_committee WHERE Editor_ID = 1) LIMIT 10","What are the names of editors, number of journals they worked on, and sales of those journals, for editors working on journal types that editor with id 1 works on, for journals published in the year 2020, listed from the 11th to the 20th?",6,False,extra
"SELECT COUNT(DISTINCT T2.Editor_ID), SUM(T1.Sales) FROM journal AS T1 JOIN journal_committee AS T2 ON T1.Journal_ID = T2.Journal_ID WHERE T2.Work_Type = 'Editor' AND T1.Date BETWEEN '2020-01-01' AND '2020-12-31' AND T1.Sales > 10000","What are the number of distinct editors and the total sales of journals with sales over 10,000, published in the year 2020?",6,False,hard
"SELECT T1.Journal_ID, T2.Name FROM journal AS T1 JOIN journal_committee AS T3 ON T1.Journal_ID = T3.Journal_ID JOIN editor AS T2 ON T3.Editor_ID = T2.Editor_ID WHERE T1.Sales > 500 OR T1.Date = '2020-01-01' AND T2.Age NOT IN (SELECT Age FROM editor WHERE Editor_ID IN (SELECT Editor_ID FROM journal_committee WHERE Work_Type = 'Editor'))","What are the IDs and names of the editors working for journals that either had more than 500 sales or were published on '2020-01-01', excluding those editors who also worked as editors in the committee?",6,False,extra
SELECT COUNT(DISTINCT T1.Editor_ID) FROM editor AS T1 JOIN journal_committee AS T2 ON T1.Editor_ID = T2.Editor_ID WHERE T2.Work_Type = 'Editor' OR T1.Age BETWEEN 30 AND 50 OR T1.Editor_ID NOT IN (SELECT Editor_ID FROM journal_committee WHERE Work_Type = 'Reviewer') ORDER BY T1.Name DESC,"How many distinct editors are either editors in the journal committee, or are between the ages of 30 and 50, or are not reviewers in the journal committee, ordered by their name in descending order?",2,True,extra
SELECT T1.Name FROM editor AS T1 JOIN journal_committee AS T2 ON T1.Editor_ID = T2.Editor_ID JOIN journal AS T3 ON T3.Journal_ID = T2.Journal_ID WHERE T3.Sales < 100,What are the names of the editors who work on journals that have sold less than 100 copies?,2,True,hard
"SELECT T2.Name, SUM(T1.Sales) FROM journal AS T1 JOIN journal_committee AS T3 ON T1.Journal_ID = T3.Journal_ID JOIN editor AS T2 ON T3.Editor_ID = T2.Editor_ID WHERE T1.Sales >= 100 AND T2.Age >= 30 GROUP BY T2.Name LIMIT 10",What are the names of the 11th to 20th editors who are at least 30 years old and have total sales of at least 100 for their journals?,6,False,extra
"SELECT COUNT(DISTINCT Theme), COUNT(DISTINCT Sales), Name FROM journal AS T1 JOIN journal_committee AS T2 ON T1.Journal_ID = T2.Journal_ID JOIN editor AS T3 ON T2.Editor_ID = T3.Editor_ID WHERE T1.Journal_ID = 1","For the journal with Journal_ID 1, what are the names of the editors, the number of distinct themes, and the number of distinct sales?",2,True,hard
"SELECT T1.Journal_ID, COUNT(DISTINCT T2.Editor_ID) FROM journal AS T1 JOIN journal_committee AS T2 ON T1.Journal_ID = T2.Journal_ID JOIN editor AS T3 ON T3.Editor_ID = T2.Editor_ID WHERE NOT EXISTS (SELECT 1 FROM editor AS T4 WHERE T4.Editor_ID = T2.Editor_ID AND T4.Age > 50)","For each journal, how many unique editors under the age of 50 are there?",3,True,extra
SELECT T1.Date FROM journal AS T1 JOIN journal_committee AS T2 ON T1.Journal_ID = T2.Journal_ID JOIN editor AS T3 ON T2.Editor_ID = T3.Editor_ID WHERE T1.Sales < 500 ORDER BY T1.Date ASC,"What are the dates of journals with sales less than 500, listed in ascending order?",2,True,extra
SELECT COUNT(T1.Journal_ID) FROM journal AS T1 WHERE T1.Date BETWEEN '2020-01-01' AND '2020-12-31' OR T1.Sales > (SELECT AVG(Sales) FROM journal WHERE Theme = 'Science') OR T1.Theme IN (SELECT T2.Theme FROM journal AS T2 JOIN journal_committee AS T3 ON T2.Journal_ID = T3.Journal_ID WHERE T3.Work_Type = 'Editor'),How many journals were published in 2020 or had higher sales than the average sales of science journals or had editors working as editors in the journal committee?,6,False,extra
SELECT T1.Name FROM editor AS T1 WHERE NOT EXISTS (SELECT 1 FROM journal_committee AS T2 JOIN journal AS T3 ON T2.Journal_ID = T3.Journal_ID WHERE T2.Editor_ID = T1.Editor_ID AND T3.Theme = 'Science'),What are the names of editors who are not part of a journal committee for a science journal?,6,True,hard
SELECT Name FROM editor WHERE Editor_ID IN (SELECT Editor_ID FROM journal_committee WHERE Journal_ID IN (SELECT Journal_ID FROM journal WHERE Sales <= 100)) ORDER BY Name DESC LIMIT 10,"What are the names of the 11th to 20th editors who worked on journals with sales less than or equal to 100, listed in descending order?",2,True,extra
"SELECT AVG(T1.Sales) + COUNT(T2.Editor_ID), T3.Name FROM journal AS T1 JOIN journal_committee AS T2 ON T1.Journal_ID = T2.Journal_ID JOIN editor AS T3 ON T2.Editor_ID = T3.Editor_ID WHERE T1.Date > '2020-01-01' GROUP BY T3.Name","What is the average sales of journals published after January 1, 2020, plus the number of editors, grouped by editor name?",4,True,extra
