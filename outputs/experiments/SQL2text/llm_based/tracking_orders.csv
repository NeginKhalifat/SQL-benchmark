query,question,iter,flag,hardness
SELECT COUNT(DISTINCT T1.order_id) FROM (SELECT T2.order_id FROM Orders AS T1 JOIN Order_Items AS T2 ON T1.order_id = T2.order_id) AS T1 WHERE EXISTS (SELECT 1 FROM Shipments WHERE order_id = T1.order_id) ORDER BY T1.order_id DESC,What are the distinct order IDs of orders that have been shipped?,6,False,extra
SELECT MAX(T1.order_id) FROM Orders AS T1 WHERE T1.order_id = 100 AND T1.order_status = 'shipped' AND T1.order_id NOT IN (SELECT T2.order_id FROM Shipments AS T2 WHERE T2.shipment_id > 1000),"What is the maximum order id where the order status is 'shipped', the order id is 100, and there is no shipment with an id greater than 1000 for that order?",2,True,extra
SELECT T1.customer_name FROM Customers AS T1 WHERE NOT EXISTS (SELECT 1 FROM Orders AS T2 WHERE T2.customer_id = T1.customer_id AND T2.order_status = 'cancelled') GROUP BY T1.customer_id HAVING COUNT(T1.customer_id) = 1 ORDER BY T1.customer_id ASC,"What are the names of customers who have only one order and none of their orders have been cancelled, listed in ascending order by customer ID?",6,False,extra
SELECT * FROM Customers WHERE customer_name NOT IN (SELECT customer_name FROM Customers WHERE customer_name = 'John') ORDER BY customer_id DESC,"What are the details of all customers whose names are not 'John', listed in descending order by customer id?",2,True,extra
SELECT DISTINCT customer_name FROM Customers WHERE customer_details != 'active',What are the names of the inactive customers?,6,False,easy
SELECT order_id FROM Orders WHERE order_status = 'shipped' OR date_order_placed BETWEEN '2020-01-01' AND '2020-12-31' OR customer_id > 100 LIMIT 10,"What are the order IDs of orders that are shipped or were placed in the year 2020 or have a customer ID greater than 100, listed from the 11th to the 20th match?",2,True,extra
SELECT T1.customer_name FROM Customers AS T1 WHERE T1.customer_name = 'John',What is the name of the customer named 'John'?,2,True,easy
"SELECT SUM(order_id), SUM(customer_id) FROM Orders WHERE order_status < 'Processing'",What is the sum of order IDs and customer IDs for orders with status before 'Processing'?,6,False,medium
SELECT COUNT(order_id) FROM Orders WHERE order_status >= 'pending' LIMIT 10,What is the count of the 11th to 20th orders with a status of pending or later?,6,False,medium
"SELECT COUNT(DISTINCT T1.order_id), COUNT(DISTINCT T2.order_item_id) FROM Orders AS T1 JOIN Order_Items AS T2 ON T1.order_id = T2.order_id WHERE T1.order_status IN ( SELECT T3.order_status FROM Orders AS T3 WHERE T3.customer_id IN ( SELECT T4.customer_id FROM Customers AS T4 WHERE T4.customer_name = 'ABC Company' ) )",How many distinct orders and order items are there for the orders placed by 'ABC Company'?,2,True,extra
"SELECT T1.order_id, T2.order_id FROM Orders AS T1 JOIN Orders AS T2 ON T1.order_id = T2.order_id WHERE NOT EXISTS (SELECT 1 FROM Order_Items WHERE order_id = T1.order_id)",What are the order ids of the orders that do not have any items?,2,True,extra
SELECT COUNT(order_id) FROM Orders WHERE order_status > 'placed',How many orders have a status beyond 'placed'?,2,True,easy
"SELECT T1.customer_name, T2.order_status FROM Customers AS T1 JOIN Orders AS T2 ON T1.customer_id = T2.customer_id JOIN Order_Items AS T3 ON T2.order_id = T3.order_id WHERE T3.order_item_status BETWEEN 'pending' AND 'shipped' AND T1.customer_details = 'premium' AND EXISTS (SELECT 1 FROM Shipments AS T4 WHERE T4.order_id = T2.order_id LIMIT 1)",What are the names and order statuses of premium customers who have at least one order with items pending or shipped and for which a shipment exists?,5,True,extra
"SELECT customer_name, COUNT(customer_id) FROM Customers WHERE NOT EXISTS (SELECT 1 FROM Orders WHERE customer_id = Customers.customer_id AND order_status = 'cancelled') AND customer_details IS NOT NULL AND customer_id BETWEEN 100 AND 1000 ORDER BY customer_id ASC LIMIT 100","What are the names of the next 100 customers with valid details and no cancelled orders, ordered by customer ID, starting from the 101st customer?",6,False,extra
"SELECT T1.order_status, COUNT(DISTINCT T2.order_item_id), COUNT(T3.order_item_id) FROM Orders AS T1 JOIN Order_Items AS T2 ON T1.order_id = T2.order_id JOIN Shipment_Items AS T3 ON T2.order_item_id = T3.order_item_id WHERE EXISTS (SELECT 1 FROM Shipments AS T4 WHERE T4.order_id = T1.order_id) ORDER BY T1.order_status ASC","What is the status of each order that has at least one shipment, along with the number of unique and total order items shipped, listed in ascending order by order status?",6,False,extra
SELECT COUNT(DISTINCT T1.customer_id) FROM Customers AS T1 JOIN Orders AS T2 ON T1.customer_id = T2.customer_id WHERE T2.order_status = 'pending' LIMIT 10,What are the 11th to 20th distinct customer IDs of customers who have placed pending orders?,3,True,hard
SELECT COUNT(order_id) FROM Orders WHERE customer_id = 100 OR date_order_placed BETWEEN '2020-01-01' AND '2020-12-31' OR order_status = 'pending',How many orders were placed by the customer with id 100 or made in the year 2020 or have a pending status?,4,True,hard
SELECT * FROM Orders WHERE order_status = 'shipped' OR date_order_placed BETWEEN '2018-01-01' AND '2018-12-31' OR customer_id > 100 ORDER BY order_id DESC,"What are the details of all orders that were shipped, or placed in the year 2018, or belong to customers with IDs greater than 100, listed in descending order of order ID?",2,True,extra
SELECT customer_name FROM Customers WHERE customer_id = 10 OR customer_name = 'John' OR NOT EXISTS (SELECT 1 FROM Orders WHERE customer_id = Customers.customer_id AND order_status = 'cancelled'),"What is the name of the customer with id 10 or the name 'John', who does not have any cancelled orders?",2,True,extra
"SELECT T1.product_id, T2.product_name FROM Order_Items AS T1 JOIN Products AS T2 ON T1.product_id = T2.product_id WHERE T1.order_item_status = 'shipped' ORDER BY T2.product_name ASC","What are the product names of shipped items, sorted alphabetically?",6,False,hard
SELECT T1.order_id FROM Orders AS T1 JOIN Order_Items AS T2 ON T1.order_id = T2.order_id JOIN Products AS T3 ON T2.product_id = T3.product_id WHERE T1.customer_id = 100 OR T2.order_item_status = 'shipped' OR T3.product_name NOT IN (SELECT product_name FROM Products WHERE product_id > 1000),What are the order IDs of the orders placed by customer 100 or with an order item status of 'shipped' or with products that have IDs of 1000 or less?,6,False,extra
"SELECT AVG(T1.order_id), SUM(T2.product_id) FROM Orders AS T1 JOIN Order_Items AS T2 ON T1.order_id = T2.order_id WHERE T1.order_status < 'Shipped' LIMIT 5","What are the average order ID and total product ID for the unshipped orders, starting from the fifth result?",6,False,hard
