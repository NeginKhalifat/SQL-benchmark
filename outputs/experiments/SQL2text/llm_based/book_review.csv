query,question,iter,flag,hardness
SELECT Title FROM book WHERE Pages <= 500 ORDER BY Title DESC,"What are the titles of books with 500 pages or less, listed in descending order by title?",2,True,medium
"SELECT T2.Title, AVG(T1.Rating) FROM review AS T1 JOIN book AS T2 ON T1.Book_ID = T2.Book_ID WHERE T1.Rating <= 4 ORDER BY AVG(T1.Rating) DESC LIMIT 10",What are the titles of the next 10 books with the highest average rating among books with an average rating of 4 or less?,6,False,extra
"SELECT MAX(T1.Pages), COUNT(DISTINCT T1.Title), COUNT(DISTINCT T1.Chapters) FROM book AS T1 JOIN review AS T2 ON T1.Book_ID = T2.Book_ID WHERE T2.Rating > 4","What is the maximum number of pages, and the number of unique titles and chapters in the books that have a rating greater than 4?",2,True,extra
SELECT COUNT(DISTINCT T1.Title) FROM book AS T1 WHERE EXISTS (SELECT 1 FROM review AS T2 WHERE T2.Rating > 2 AND T2.Book_ID = T1.Book_ID) LIMIT 10,What are the counts of the 11th to 20th unique book titles that have received at least one review with a rating higher than 2?,6,False,extra
SELECT T1.Title FROM book AS T1 JOIN review AS T2 ON T1.Book_ID = T2.Book_ID WHERE T1.Type = 'novel' AND T2.Rating > 4 AND T1.Book_ID IN (SELECT Book_ID FROM review WHERE Readers_in_Million > 10) ORDER BY T1.Title DESC,"What are the titles of novels with a rating above 4 and more than 10 million readers, sorted in descending order by title?",4,True,extra
"SELECT T1.Title, T2.Rating FROM book AS T1 JOIN review AS T2 ON T1.Book_ID = T2.Book_ID WHERE T1.Pages BETWEEN 200 AND 400 AND T2.Rating > 4 AND T2.Readers_in_Million = 1","What are the titles and ratings of books with between 200 and 400 pages, more than 4 stars, and 1 million readers?",3,True,extra
"SELECT T1.Title, T2.Rating FROM book AS T1 JOIN review AS T2 ON T1.Book_ID = T2.Book_ID WHERE T1.Release <= '2020' ORDER BY T2.Rating ASC","What are the titles of books released in or before 2020, along with their corresponding ratings, listed in ascending order of rating?",4,True,hard
"SELECT T1.Title, T2.Rating FROM book AS T1 JOIN review AS T2 ON T1.Book_ID = T2.Book_ID WHERE T1.Pages > 500 OR T2.Rating > (SELECT AVG(Rating) FROM review) ORDER BY T2.Rating ASC","What are the titles and ratings of books with more than 500 pages or ratings higher than the average rating, listed from lowest to highest rating?",2,True,extra
"SELECT b.Title, r.Rating FROM book b JOIN review r ON b.Book_ID = r.Book_ID WHERE b.Pages BETWEEN 100 AND 200 AND r.Rating > 4 AND r.Readers_in_Million < 10 LIMIT 10","What are the titles and ratings of the next 10 books with a rating over 4, less than 10 million readers, and a page count between 100 and 200?",6,True,hard
"SELECT T2.Title, AVG(T1.Rating) FROM review AS T1 JOIN book AS T2 ON T1.Book_ID = T2.Book_ID GROUP BY T2.Title ORDER BY AVG(T1.Rating) ASC",What are the book titles along with their average ratings in ascending order?,3,True,hard
"SELECT T1.Title, COUNT(T2.Review_ID) FROM book AS T1 JOIN review AS T2 ON T1.Book_ID = T2.Book_ID WHERE NOT EXISTS (SELECT 1 FROM review AS T3 WHERE T3.Book_ID = T1.Book_ID AND T3.Rating > 4) GROUP BY T1.Title ORDER BY T1.Title ASC","What are the titles of the books that do not have any reviews with a rating greater than 4, along with the number of reviews for each book?",6,False,extra
"SELECT b.Title, r.Rating FROM book AS b JOIN review AS r ON b.Book_ID = r.Book_ID WHERE r.Rating BETWEEN 3 AND 5 OR r.Readers_in_Million IN (SELECT MAX(Readers_in_Million) FROM review) OR b.Chapters = 10 ORDER BY r.Rating ASC","What are the titles and ratings of books that have ratings between 3 and 5, or have the most readers in millions, or have 10 chapters, sorted by rating in ascending order?",2,True,extra
SELECT Title FROM book WHERE EXISTS (SELECT 1 FROM review WHERE review.Book_ID = book.Book_ID AND Rating > 4) ORDER BY Title DESC,"What are the titles of the books with a rating greater than 4, listed in descending order by title?",2,True,extra
SELECT Title FROM book WHERE Type != 'Fiction' ORDER BY Title ASC,What are the titles of all non-fiction books in alphabetical order?,6,False,medium
"SELECT Title, Pages FROM book WHERE Type = 'Fiction' AND Pages BETWEEN 200 AND 400 AND Book_ID NOT IN (SELECT Book_ID FROM review WHERE Rating < 4) LIMIT 10",What are the titles and number of pages of the next 10 fiction books with between 200 and 400 pages that have not received a rating below 4?,2,True,extra
"SELECT COUNT(DISTINCT T1.Book_ID), COUNT(T2.Review_ID) FROM book AS T1 JOIN review AS T2 ON T1.Book_ID = T2.Book_ID WHERE T2.Rating = 5",How many unique books have a 5-star review and how many 5-star reviews are there in total?,2,True,extra
SELECT COUNT(DISTINCT T1.Book_ID) FROM book AS T1 JOIN review AS T2 ON T1.Book_ID = T2.Book_ID WHERE T1.Pages BETWEEN 100 AND 200 OR T2.Rating > 4 OR T2.Book_ID NOT IN (SELECT Book_ID FROM review WHERE Rating < 3),"How many distinct books have between 100 and 200 pages, or have a rating higher than 4, or do not have a rating lower than 3 in any of the reviews?",6,True,extra
"SELECT T1.Title, COUNT(T2.Review_ID) FROM book AS T1 JOIN review AS T2 ON T1.Book_ID = T2.Book_ID WHERE T2.Rating BETWEEN 4 AND 5 AND EXISTS (SELECT 1 FROM review WHERE Book_ID = T2.Book_ID AND Rating = 5) GROUP BY T1.Title LIMIT 10","What are the next 10 book titles with at least one 5-star review, along with the number of 4 and 5-star reviews they received?",6,False,extra
"SELECT T1.Title, T2.Rating, T3.Readers_in_Million FROM book AS T1 JOIN review AS T2 ON T1.Book_ID = T2.Book_ID JOIN review AS T3 ON T2.Review_ID = T3.Review_ID WHERE T1.Chapters = 10 AND T2.Rating = T3.Rating AND T1.Pages = 200","What are the titles and ratings of the books with 10 chapters and 200 pages, along with the number of readers in millions, where the book ratings match the review ratings?",6,False,hard
SELECT * FROM review WHERE Rating BETWEEN 1 AND 5 AND Readers_in_Million > 0 AND Book_ID IN (SELECT Book_ID FROM book WHERE Pages > 100) LIMIT 10,"What are the details of the 11th to 20th reviews of books with more than 100 pages, rated between 1 and 5 and read by more than 0 million readers?",4,True,extra
"SELECT T1.Title, T2.Title FROM book AS T1, book AS T2 WHERE T1.Type = T2.Type AND T1.Chapters = T2.Chapters OR T1.Pages BETWEEN 100 AND 200 OR T1.Title IN (SELECT Title FROM book)","What are the titles of books that have the same type and chapters, or have between 100 and 200 pages, or exist in the book table?",6,False,extra
"SELECT COUNT(DISTINCT T2.Review_ID), T1.Pages FROM book AS T1 JOIN review AS T2 ON T1.Book_ID = T2.Book_ID WHERE T1.Type = 'Fiction' AND T1.Chapters BETWEEN 20 AND 50 AND T2.Rating > 4",What is the number of distinct reviews and the number of pages in fiction books with chapters between 20 and 50 that have a rating higher than 4?,3,True,extra
"SELECT COUNT(DISTINCT Title), AVG(Pages) FROM book WHERE Type != 'Fiction' GROUP BY Type ORDER BY Chapters DESC","What are the counts of distinct titles and average page numbers for each non-fiction type, ordered by the number of chapters in descending order?",6,False,hard
SELECT AVG(Pages) FROM book WHERE Release > '2020',What is the average number of pages in a book that was released after 2020?,6,False,easy
