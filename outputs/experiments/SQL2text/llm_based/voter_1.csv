query,question,iter,flag,hardness
"SELECT T1.contestant_number, COUNT(DISTINCT T2.phone_number) FROM VOTES AS T1 JOIN VOTES AS T2 ON T1.contestant_number = T2.contestant_number WHERE T2.state = 'CA' OR T2.phone_number BETWEEN 100000 AND 999999 OR NOT EXISTS (SELECT 1 FROM VOTES AS T3 WHERE T3.contestant_number = T1.contestant_number AND T3.state = 'NY') ORDER BY T1.contestant_number DESC LIMIT 10","What are the contestant numbers along with the count of distinct phone numbers of voters in California or with phone numbers between 100000 and 999999, excluding contestants with any votes from New York, listed in descending order by contestant number starting from the 11th?",6,False,extra
SELECT COUNT(DISTINCT T3.state) FROM VOTES AS T1 JOIN CONTESTANTS AS T2 ON T1.contestant_number = T2.contestant_number JOIN AREA_CODE_STATE AS T3 ON T3.state = T1.state WHERE T3.area_code BETWEEN 200 AND 300 AND T1.created > T1.created - 30,"How many distinct states have votes with area codes between 200 and 300, made in the last 30 days?",2,True,hard
SELECT state FROM VOTES WHERE created <= '10:00' LIMIT 10,What are the states of the 11th to 20th votes that were created before 10:00?,6,False,medium
SELECT T1.contestant_name FROM CONTESTANTS AS T1 JOIN VOTES AS T2 ON T1.contestant_number = T2.contestant_number JOIN AREA_CODE_STATE AS T3 ON T2.state = T3.state WHERE T2.vote_id BETWEEN 100 AND 1000 AND T2.contestant_number IN (SELECT contestant_number FROM CONTESTANTS WHERE contestant_name = 'John') ORDER BY T1.contestant_number DESC LIMIT 10,"What are the names of the next 10 contestants with numbers lower than those of contestant John, among the ones from area codes that voted for John between vote id 100 and 1000?",6,False,extra
SELECT T1.state FROM VOTES AS T1 JOIN CONTESTANTS AS T2 ON T1.contestant_number = T2.contestant_number WHERE T1.vote_id > 1000 AND T2.contestant_number > 500,What are the states of the votes cast for contestants with a contestant number greater than 500 and a vote id greater than 1000?,6,False,medium
"SELECT COUNT(DISTINCT T2.phone_number), COUNT(T1.contestant_number) FROM CONTESTANTS AS T1 JOIN VOTES AS T2 ON T1.contestant_number = T2.contestant_number WHERE T2.vote_id < 100 GROUP BY T1.contestant_number ORDER BY COUNT(T1.contestant_number) DESC","What is the number of distinct phone numbers and total votes for each contestant with less than 100 votes, ordered by the total votes in descending order?",6,False,extra
"SELECT contestant_number, COUNT(vote_id), SUM(1) FROM VOTES GROUP BY contestant_number ORDER BY COUNT(vote_id) DESC LIMIT 10",What are the contestant numbers and the number of votes for the 11th to 20th most voted contestants?,5,True,hard
"SELECT T2.contestant_name, COUNT(T1.vote_id) FROM VOTES AS T1 JOIN CONTESTANTS AS T2 ON T1.contestant_number = T2.contestant_number GROUP BY T2.contestant_name LIMIT 10",Who are the 11th to 20th contestants with the most votes?,6,False,hard
"SELECT SUM(T1.phone_number), T2.contestant_name FROM VOTES AS T1 JOIN CONTESTANTS AS T2 ON T1.contestant_number = T2.contestant_number JOIN AREA_CODE_STATE AS T3 ON T1.state = T3.state WHERE T1.vote_id BETWEEN 100 AND 200",What is the total phone number count for each contestant and their name from votes with IDs between 100 and 200?,6,False,hard
"SELECT T1.contestant_name, AVG(T2.vote_id) FROM CONTESTANTS AS T1 JOIN VOTES AS T2 ON T1.contestant_number = T2.contestant_number WHERE T1.contestant_number = 1 OR T2.vote_id BETWEEN 10 AND 20 GROUP BY T1.contestant_name HAVING AVG(T2.vote_id) > 5","What is the average vote ID for the contestant with number 1 and what is the average vote ID for the contestants with vote IDs between 10 and 20, where the average vote ID is greater than 5?",6,False,extra
"SELECT T1.contestant_name, MAX(COUNT(DISTINCT T2.phone_number)) FROM CONTESTANTS AS T1 JOIN VOTES AS T2 ON T1.contestant_number = T2.contestant_number WHERE T2.state = 'NY' GROUP BY T1.contestant_name",Who among the contestants in New York received the maximum number of distinct votes?,6,False,hard
SELECT T2.state FROM VOTES AS T1 JOIN AREA_CODE_STATE AS T2 ON T1.state = T2.state WHERE T1.contestant_number IN (SELECT contestant_number FROM CONTESTANTS WHERE contestant_name = 'John') AND T1.phone_number BETWEEN 100 AND 200,What are the states where votes for the contestant 'John' were from phone numbers 100 to 200?,6,False,extra
SELECT T2.contestant_name FROM VOTES AS T1 JOIN CONTESTANTS AS T2 ON T1.contestant_number = T2.contestant_number WHERE T1.phone_number LIKE '123%' OR T1.created BETWEEN '2020-01-01' AND '2020-12-31' OR T2.contestant_name = 'John Doe' LIMIT 10,"What are the names of contestants 11 through 20 who were voted for by a phone number starting with 123, or were voted for in the year 2020, or are named John Doe?",6,False,extra
SELECT T2.state FROM VOTES AS T1 JOIN VOTES AS T2 ON T1.phone_number = T2.phone_number WHERE T1.state = 'CA' OR T1.state = 'NY' AND T1.contestant_number = 10,Which states have voters who voted for contestant number 10 and also have the same phone number as voters from California or New York?,6,False,hard
"SELECT T1.contestant_name, COUNT(T2.vote_id) FROM CONTESTANTS AS T1 JOIN VOTES AS T2 ON T1.contestant_number = T2.contestant_number WHERE T2.state = 'California' AND T2.created BETWEEN '2022-01-01' AND '2022-01-31' AND T2.phone_number NOT IN ( SELECT T3.phone_number FROM VOTES AS T3 WHERE T3.state = 'New York' ) ORDER BY COUNT(T2.vote_id) DESC LIMIT 10","Which contestants from California, excluding those who voted in New York, received the most votes in January 2022, listing the top 10 results starting from the 11th?",6,False,extra
SELECT T1.contestant_name FROM CONTESTANTS AS T1 JOIN VOTES AS T2 ON T1.contestant_number = T2.contestant_number WHERE T2.contestant_number >= 1 ORDER BY T1.contestant_number DESC,What are the names of all contestants in descending order of contestant number?,6,False,hard
SELECT area_code FROM AREA_CODE_STATE WHERE area_code >= 500 LIMIT 5,What are the next 5 area codes (after the first 5) that are 500 or higher?,6,True,medium
SELECT T1.state FROM VOTES AS T1 JOIN CONTESTANTS AS T2 ON T1.contestant_number = T2.contestant_number WHERE T1.contestant_number <= 10,What states have cast votes for contestants numbered 10 or less?,3,True,medium
SELECT state FROM VOTES WHERE phone_number != 1234567890 ORDER BY state DESC,"What are the states of the votes excluding the phone number 1234567890, listed in descending order?",6,False,medium
SELECT T2.state FROM VOTES AS T1 JOIN AREA_CODE_STATE AS T2 ON T1.state = T2.state WHERE T1.contestant_number IN (SELECT contestant_number FROM CONTESTANTS WHERE contestant_name = 'John') ORDER BY T2.state ASC,"What states did people from the same states as area codes vote for John, listed in ascending order of state?",2,True,extra
SELECT COUNT(DISTINCT T1.contestant_name) FROM CONTESTANTS AS T1 WHERE T1.contestant_number = 1 OR EXISTS (SELECT 1 FROM VOTES AS T2 WHERE T2.contestant_number = T1.contestant_number AND T2.state = 'CA') LIMIT 10,What are the 11th to 20th unique names of contestants who are either contestant number 1 or have votes from California?,6,False,extra
"SELECT T1.area_code, MAX(T1.area_code) FROM AREA_CODE_STATE AS T1 JOIN VOTES AS T2 ON T1.state = T2.state WHERE (T2.phone_number BETWEEN 100 AND 200 OR T2.contestant_number IN (SELECT T3.contestant_number FROM CONTESTANTS AS T3 WHERE T3.contestant_name = 'John')) AND T2.state NOT IN (SELECT T4.state FROM VOTES AS T4 WHERE T4.created > '2020-01-01') GROUP BY T1.area_code LIMIT 10","What are the top 10 area codes with the highest maximum area code value for states where there were votes for a contestant named John or from a specific phone number range, excluding votes from after 2020-01-01?",6,False,extra
