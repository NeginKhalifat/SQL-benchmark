query,question,iter,flag,hardness
SELECT DISTINCT T1.Official_Name FROM city AS T1 WHERE NOT EXISTS (SELECT 1 FROM farm_competition AS T2 WHERE T2.Host_city_ID = T1.City_ID AND T2.Hosts = 'official') ORDER BY T1.City_ID DESC,"What are the names of the cities that have never officially hosted a farm competition, listed in descending order by city ID?",2,True,extra
SELECT MAX(Total_Horses) FROM farm WHERE Year <= 2010 ORDER BY Total_Horses ASC LIMIT 5,What is the fifth lowest maximum total number of horses in farms from years before or equal to 2010?,2,True,hard
SELECT COUNT(DISTINCT T1.Farm_ID) FROM competition_record AS T1 JOIN competition_record AS T2 ON T1.Competition_ID = T2.Competition_ID WHERE T1.Rank > 10 OR T2.Rank = 5 AND T1.Farm_ID BETWEEN 100 AND 200 LIMIT 100,What is the number of distinct farms with ids between 100 and 200 that either participated in a competition where they ranked above 10 or participated in the same competition as a farm that ranked 5?,6,True,extra
"SELECT T1.City_ID, COUNT(T2.Competition_ID) FROM city AS T1 JOIN farm_competition AS T2 ON T1.City_ID = T2.Host_city_ID WHERE T2.Year IN (SELECT Year FROM farm_competition WHERE Theme = 'Farm Competition') GROUP BY T1.City_ID ORDER BY T1.City_ID ASC","What are the cities and their respective counts of farm competitions that are hosted in the same year as other farm competitions with the theme 'Farm Competition', listed in ascending order of city ID?",4,True,extra
"SELECT T1.City_ID, COUNT(T2.Competition_ID) FROM city AS T1 JOIN farm_competition AS T2 ON T1.City_ID = T2.Host_city_ID WHERE T1.Population > 100000 AND T2.Year BETWEEN 2010 AND 2020 AND T1.Census_Ranking = 'Capital' LIMIT 10","What are the city IDs and the number of farm competitions they hosted between 2010 and 2020, for cities with a population over 100,000 and a census ranking of 'Capital', listed from the 11th to the 20th result?",4,True,hard
"SELECT T1.City_ID, MIN(T1.Population) FROM city AS T1 JOIN city AS T2 ON T1.City_ID = T2.City_ID WHERE T1.Population BETWEEN 10000 AND 100000 GROUP BY T1.City_ID ORDER BY T1.City_ID ASC LIMIT 10","What are the city IDs and the minimum population for the 11th to 20th cities when ordered by city ID in ascending order, where the population is between 10,000 and 100,000?",2,True,extra
SELECT Official_Name FROM city WHERE Area_km_2 > 100 AND EXISTS (SELECT * FROM farm_competition WHERE Host_city_ID = city.City_ID AND Theme = 'Agriculture') LIMIT 5,"What are the official names of the next 5 cities, excluding the first 5, with an area greater than 100 km^2 that have hosted agricultural farm competitions?",6,False,extra
SELECT Farm_ID FROM farm WHERE Total_Horses > 100 AND Working_Horses > 50,Which farm IDs have more than 100 total horses and more than 50 working horses?,2,True,medium
"SELECT T1.Official_Name, T2.Theme, T3.Rank FROM city AS T1 JOIN farm_competition AS T2 ON T1.City_ID = T2.Host_city_ID JOIN competition_record AS T3 ON T2.Competition_ID = T3.Competition_ID","What are the official names of cities, themes of farm competitions, and ranks of competition records for cities that host farm competitions?",4,True,medium
SELECT COUNT(DISTINCT T1.Farm_ID) FROM competition_record AS T1 JOIN competition_record AS T2 ON T1.Farm_ID = T2.Farm_ID WHERE T1.Rank > 1 AND T2.Rank BETWEEN 2 AND 5 AND T1.Competition_ID = 10 ORDER BY COUNT(DISTINCT T1.Farm_ID) DESC,How many farms participated in competition ID 10 with a rank above 1 and also participated in the same competition with a rank between 2 and 5?,2,True,hard
"SELECT Host_city_ID, AVG(Rank) FROM farm_competition JOIN competition_record ON farm_competition.Competition_ID = competition_record.Competition_ID GROUP BY Host_city_ID HAVING AVG(Rank) = 1",What are the host city IDs of the farm competitions where the average ranking of participating farms is 1?,5,True,medium
SELECT T1.City_ID FROM city AS T1 JOIN city AS T2 ON T1.City_ID = T2.City_ID WHERE T1.Population > (SELECT AVG(Population) FROM city),What city ids have a population higher than the average population of all cities?,2,True,extra
"SELECT COUNT(DISTINCT T1.Farm_ID), COUNT(T2.Competition_ID) FROM farm AS T1 JOIN competition_record AS T2 ON T1.Farm_ID = T2.Farm_ID WHERE T2.Rank = 1 OR T1.Total_Horses > 10 OR EXISTS (SELECT 1 FROM competition_record AS T3 WHERE T3.Farm_ID = T1.Farm_ID AND T3.Competition_ID IN (SELECT Competition_ID FROM competition_record WHERE Rank = 1))","What is the number of distinct farms that ranked first in a competition, have more than 10 horses in total, or have participated in any competition that has a first-place winner, and the total number of first-place competitions these farms participated in?",6,False,extra
SELECT AVG(Population) FROM city WHERE City_ID IN ( SELECT Host_city_ID FROM farm_competition WHERE Theme = 'Farm Competition' ) LIMIT 10,What is the average population of the 11th to 20th cities that have hosted the 'Farm Competition'?,6,False,extra
SELECT * FROM farm_competition WHERE Year BETWEEN 2018 AND 2020 LIMIT 10,"What are the details of farm competitions from 2018 to 2020, excluding the first 10 records?",6,False,medium
SELECT Farm_ID FROM farm WHERE Oxen != 1 LIMIT 10,"What are the IDs of the next 10 farms that have more or less than 1 oxen, starting from the 11th farm?",2,True,medium
SELECT COUNT(DISTINCT T2.City_ID) FROM farm_competition AS T1 JOIN city AS T2 ON T1.Host_city_ID = T2.City_ID,How many distinct cities have hosted the farm competition?,2,True,easy
"SELECT Official_Name, AVG(Population) FROM city WHERE Status = 'City' AND Population BETWEEN 100000 AND 200000 GROUP BY Official_Name HAVING AVG(Population) > 150000","What are the official names of cities with a status of 'City' and an average population between 100000 and 200000, where the average population is greater than 150000?",6,False,extra
"SELECT COUNT(DISTINCT farm_competition.Host_city_ID), farm_competition.Theme FROM farm_competition WHERE farm_competition.Year = 2010",What is the number of distinct host cities and the corresponding themes of the 2010 farm competitions?,4,True,medium
SELECT T1.City_ID FROM city AS T1 JOIN farm_competition AS T2 ON T1.City_ID = T2.Host_city_ID WHERE T1.Population > 500000 OR T2.Year = 2010 OR NOT EXISTS (SELECT 1 FROM competition_record AS T3 WHERE T2.Competition_ID = T3.Competition_ID) ORDER BY T1.City_ID DESC LIMIT 10,"What are the city ids of the top 10 cities with a population over 500000, or hosting a farm competition in 2010, or with no competition record, ordered by city id in descending order, from the 11th city onwards?",4,True,extra
