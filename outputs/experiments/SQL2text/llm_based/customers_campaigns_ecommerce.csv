query,question,iter,flag,hardness
SELECT COUNT(DISTINCT T1.customer_id) FROM Customers AS T1 JOIN Mailshot_Customers AS T2 ON T1.customer_id = T2.customer_id WHERE T1.customer_name = 'John Doe' AND T2.mailshot_id = (SELECT T3.mailshot_id FROM Mailshot_Campaigns AS T3 WHERE T3.mailshot_name = 'Campaign 1') ORDER BY T1.customer_id ASC,How many distinct customers named 'John Doe' are targeted by 'Campaign 1' mailshot?,3,True,extra
"SELECT T1.customer_name, T2.mailshot_name FROM Customers AS T1 JOIN Mailshot_Customers AS T3 ON T1.customer_id = T3.customer_id JOIN Mailshot_Campaigns AS T2 ON T3.mailshot_id = T2.mailshot_id WHERE T1.customer_id = 100 AND T2.mailshot_start_date > '2020-01-01' AND T2.mailshot_name NOT IN (SELECT mailshot_name FROM Mailshot_Campaigns WHERE mailshot_end_date < '2020-01-01')","What are the names of the customers and the mailshot campaigns they were part of, for customer with id 100, where the campaign started after '2020-01-01' and the campaign name was not part of any campaign that ended before '2020-01-01'?",4,True,extra
SELECT * FROM Customers WHERE customer_id BETWEEN 100 AND 200 AND EXISTS (SELECT 1 FROM Customer_Addresses WHERE Customers.customer_id = Customer_Addresses.customer_id),What information is available for customers with an ID between 100 and 200 who have at least one address?,2,True,extra
SELECT COUNT(DISTINCT T1.customer_id) FROM Customer_Addresses AS T1 JOIN Customer_Addresses AS T2 ON T1.premise_id = T2.premise_id,How many customers share the same premise with at least one other customer?,4,True,easy
SELECT T2.customer_name FROM Customer_Addresses AS T1 JOIN Customers AS T2 ON T1.customer_id = T2.customer_id,What are the names of the customers who have addresses recorded in the customer addresses table?,3,True,easy
"SELECT T1.product_name, T2.mailshot_name FROM Products AS T1 JOIN Mailshot_Campaigns AS T2 ON T1.product_category = T2.product_category",What are the names of products and corresponding mailshot campaigns that are categorized together?,2,True,medium
SELECT customer_name FROM Customers WHERE customer_phone = '1234567890' OR customer_email = 'example@example.com' OR customer_id BETWEEN 100 AND 200,"What are the names of the customers with phone number '1234567890', email 'example@example.com', or customer ID between 100 and 200?",2,True,hard
"SELECT COUNT(DISTINCT customer_name), COUNT(DISTINCT customer_phone) FROM Customers WHERE customer_id >= 100 ORDER BY customer_id ASC",How many unique customer names and phone numbers are there for customers with IDs of 100 or higher?,6,False,extra
"SELECT T1.customer_name, T1.customer_phone FROM Customers AS T1, Mailshot_Customers AS T2 WHERE T1.customer_id = T2.customer_id AND T2.outcome_code = 'success' ORDER BY T1.customer_name ASC LIMIT 10","What are the names and phone numbers of the next 10 customers who received a successful mailshot, listed alphabetically by customer name?",6,False,extra
"SELECT T1.customer_name, COUNT(DISTINCT T1.customer_id), COUNT(T2.order_id) FROM Customers AS T1 JOIN Customer_Orders AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.customer_name HAVING COUNT(T2.order_id) > 1 ORDER BY T1.customer_name ASC","What are the names of customers who have placed more than one order, along with the number of unique customers and the total number of orders they have placed, listed in ascending order by customer name?",4,True,hard
SELECT T1.customer_name FROM Customers AS T1 JOIN Customer_Addresses AS T2 ON T1.customer_id = T2.customer_id WHERE T2.date_address_from >= '2020-01-01' ORDER BY T1.customer_name ASC LIMIT 10,"What are the names of the 11th to 20th customer who has an address that started from January 1st, 2020 onwards, listed alphabetically?",4,True,extra
"SELECT COUNT(DISTINCT T1.customer_id), COUNT(DISTINCT T2.mailshot_id) FROM Customers AS T1 JOIN Mailshot_Customers AS T2 ON T1.customer_id = T2.customer_id LIMIT 10",What are the counts of distinct customer ids and distinct mailshot ids from the first 10 rows of joined customers and mailshot customers tables?,4,True,extra
"SELECT product_name AS NewProduct, MIN(product_category) FROM Products GROUP BY product_name ORDER BY NewProduct ASC","What are the product names along with their lowest product category, listed in ascending order of product name?",2,True,extra
"SELECT T1.customer_name, T2.mailshot_name FROM Customers AS T1 INNER JOIN Mailshot_Customers AS T3 ON T1.customer_id = T3.customer_id INNER JOIN Mailshot_Campaigns AS T2 ON T3.mailshot_id = T2.mailshot_id WHERE T2.mailshot_start_date >= T3.mailshot_customer_date",What are the names of the customers and the corresponding mailshot campaigns where the mailshot start date is later than or equal to the customer's mailshot date?,4,True,hard
"SELECT T1.customer_name, T2.customer_name FROM Customers AS T1 JOIN Customers AS T2 ON T1.customer_id = T2.customer_id WHERE T1.customer_id = 100 AND T2.customer_id BETWEEN 200 AND 300 AND T1.customer_id NOT IN (SELECT customer_id FROM Mailshot_Customers) GROUP BY T1.customer_name HAVING MAX(T1.customer_id) = 100 ORDER BY T1.customer_name ASC","What are the names of customers with ID 100 who have also placed an order with IDs between 200 and 300, excluding those in the mailshot customers list, sorted in ascending order by customer name?",6,False,extra
"SELECT T1.product_category, COUNT(DISTINCT T3.customer_id) FROM Mailshot_Campaigns AS T1 INNER JOIN Mailshot_Customers AS T2 ON T1.mailshot_id = T2.mailshot_id INNER JOIN Customers AS T3 ON T3.customer_id = T2.customer_id WHERE T1.mailshot_end_date IS NOT NULL AND T2.outcome_code = 'success' AND EXISTS ( SELECT * FROM Customer_Addresses AS T4 WHERE T4.customer_id = T3.customer_id AND T4.date_address_from IS NOT NULL )",What are the product categories from successful mailshot campaigns along with the number of unique customers who have a valid address?,6,False,extra
SELECT T1.customer_name FROM Customers AS T1 JOIN Mailshot_Customers AS T2 ON T1.customer_id = T2.customer_id JOIN Mailshot_Campaigns AS T3 ON T2.mailshot_id = T3.mailshot_id WHERE T3.mailshot_start_date > '2022-01-01' ORDER BY T1.customer_name ASC LIMIT 10,"What are the names of the 11th to 20th customers in alphabetical order who received a mailshot campaign that started after January 1, 2022?",2,True,extra
"SELECT T1.customer_name, T2.mailshot_name FROM Customers AS T1 JOIN Mailshot_Customers AS T3 ON T1.customer_id = T3.customer_id JOIN Mailshot_Campaigns AS T2 ON T3.mailshot_id = T2.mailshot_id WHERE T3.mailshot_customer_date >= '2020-01-01' ORDER BY T2.mailshot_start_date DESC","What are the customer names and corresponding mailshot names for customers who received a mailshot on or after '2020-01-01', listed in descending order of the mailshot start date?",6,False,extra
SELECT T1.customer_name FROM Customers AS T1 JOIN Mailshot_Customers AS T2 ON T1.customer_id = T2.customer_id WHERE T2.mailshot_id = 1 OR T2.outcome_code = 'success' OR T1.customer_id IN (SELECT customer_id FROM Mailshot_Customers WHERE mailshot_id = 2),"What are the names of customers who received mailshot 1, or had a successful mailshot outcome, or received mailshot 2?",6,False,extra
SELECT T3.mailshot_name FROM Mailshot_Customers AS T1 JOIN Customers AS T2 ON T1.customer_id = T2.customer_id JOIN Mailshot_Campaigns AS T3 ON T1.mailshot_id = T3.mailshot_id WHERE T1.outcome_code = 'success' ORDER BY T3.mailshot_start_date ASC,List all the mailshot names of successful mailshot customers ordered by the start date of the mailshot campaign in ascending order.,3,True,extra
SELECT DISTINCT T4.customer_name FROM Customers AS T4 JOIN Customer_Addresses AS T3 ON T4.customer_id = T3.customer_id JOIN Premises AS T2 ON T3.premise_id = T2.premise_id JOIN Customer_Orders AS T1 ON T4.customer_id = T1.customer_id WHERE T2.premises_type = 'Residential' AND T1.order_status_code = 'Delivered' AND EXISTS ( SELECT T5.mailshot_id FROM Mailshot_Customers AS T5 JOIN Mailshot_Campaigns AS T6 ON T5.mailshot_id = T6.mailshot_id WHERE T5.customer_id = T4.customer_id AND T6.mailshot_start_date BETWEEN '2020-01-01' AND '2020-12-31' ),"What are the names of customers who have a residential address, have had their orders delivered, and received a mailshot in 2020?",6,False,extra
