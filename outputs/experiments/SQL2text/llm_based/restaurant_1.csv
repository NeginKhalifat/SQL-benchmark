query,question,iter,flag,hardness
SELECT T1.LName FROM Student AS T1 WHERE NOT EXISTS (SELECT 1 FROM Restaurant AS T2 WHERE T2.ResName = 'Johnnies'),What are the last names of the students if there is no restaurant named 'Johnnies'?,2,True,hard
"SELECT COUNT(Sex), LName FROM Student WHERE Age BETWEEN 18 AND 25 GROUP BY LName",How many students of each sex are there for each last name among students aged 18-25?,6,False,medium
"SELECT StuID, LName FROM Student WHERE Age BETWEEN 18 AND 25 OR Fname = 'John' OR Major > 10",What are the student IDs and last names of students who are between 18 and 25 years old or named John or majoring in a field greater than 10?,2,True,hard
"SELECT T1.LName, MIN(T1.Age) FROM Student AS T1 GROUP BY T1.LName",What is the youngest age for each last name in the student table?,2,True,medium
"SELECT LName, SUM(Spent) FROM Student AS T1 JOIN Visits_Restaurant AS T2 ON T1.StuID = T2.StuID JOIN Restaurant AS T3 ON T2.ResID = T3.ResID WHERE T3.Rating <= 3 GROUP BY LName HAVING SUM(Spent) > 100 ORDER BY SUM(Spent) DESC LIMIT 10","What are the last names of the top 10 students, excluding the first 10, who spent more than 100 in total at restaurants with a rating of 3 or less, listed in descending order of total amount spent?",6,False,extra
SELECT ResName FROM Restaurant WHERE ResID = ( SELECT ResID FROM Type_Of_Restaurant WHERE ResTypeID = ( SELECT ResTypeID FROM Restaurant_Type WHERE ResTypeName = 'Italian' OR ResTypeDescription LIKE '%food%' ) ) OR ResID NOT IN ( SELECT ResID FROM Visits_Restaurant ) ORDER BY ResName ASC,"What are the names of Italian restaurants or restaurants serving food that no student has visited, listed in ascending order?",6,False,extra
"SELECT DISTINCT T1.LName, T2.LName FROM Student AS T1 JOIN Student AS T2 ON T1.StuID = T2.Advisor WHERE T1.Age BETWEEN 20 AND 25 OR T1.Sex = 'M' OR T1.Major IN (SELECT Major FROM Student WHERE Advisor = 101)","What are the distinct pairs of last names of students who are between 20 and 25 years old, or male, or have an advisor of 101, and their advisors?",6,False,extra
"SELECT MAX(S.Age), S.LName FROM Student S WHERE S.Major != 1 GROUP BY S.LName HAVING MAX(S.Age) > 20",What are the maximum ages greater than 20 for students with different last names and non-major 1?,2,True,medium
"SELECT COUNT(DISTINCT StuID), COUNT(Spent) FROM Visits_Restaurant WHERE ResID = 1 OR Time BETWEEN '10:00' AND '12:00' OR Spent > 20","How many unique students and how many total visits are there at restaurant 1, at any time between 10:00 and 12:00, or where more than 20 was spent?",6,False,extra
"SELECT T1.LName, T2.ResName FROM Student AS T1 JOIN Visits_Restaurant AS T3 ON T1.StuID = T3.StuID JOIN Restaurant AS T2 ON T3.ResID = T2.ResID WHERE T1.Age >= 20 ORDER BY T1.LName DESC LIMIT 5","What are the last names of the 5 oldest students aged 20 and above who visited a restaurant, along with the names of the restaurants, listed in descending order of last name, starting from the 6th student?",2,True,extra
"SELECT AVG(T4.Spent), AVG(T4.Time) FROM Restaurant AS T1 INNER JOIN Type_Of_Restaurant AS T2 ON T1.ResID = T2.ResID INNER JOIN Restaurant_Type AS T3 ON T2.ResTypeID = T3.ResTypeID INNER JOIN Visits_Restaurant AS T4 ON T4.ResID = T1.ResID WHERE T1.ResName != 'Burger King' ORDER BY T3.ResTypeName ASC LIMIT 10","What are the average amount spent and average time spent by students at the next 10 types of restaurants excluding Burger King, listed in ascending order of restaurant type?",6,False,extra
SELECT ResName FROM Restaurant WHERE Rating = 5 LIMIT 10,What are the names of the 5-star restaurants from 11th to 20th in the list?,2,True,medium
"SELECT T1.LName, T2.Fname FROM Student AS T1 JOIN Student AS T2 ON T1.StuID = T2.StuID WHERE T1.Age BETWEEN 20 AND 25 OR T2.Major = 2 OR T1.Sex IN ('M', 'F') ORDER BY T1.LName ASC","What is the last name and first name of each student whose age is between 20 and 25 or whose major is 2 or whose sex is either 'M' or 'F', listed in ascending order by last name?",6,True,extra
"SELECT DISTINCT T1.LName, T2.ResName FROM Student AS T1 JOIN Visits_Restaurant AS T3 ON T1.StuID = T3.StuID JOIN Restaurant AS T2 ON T3.ResID = T2.ResID WHERE T1.Age > 18 AND T1.Sex = 'M' AND T2.ResID BETWEEN 1 AND 10 AND T2.ResName NOT IN (SELECT ResName FROM Restaurant WHERE Rating < 5) ORDER BY T1.LName ASC LIMIT 5","What are the last names of the next 5 male students over 18 years old who visited restaurants with a rating of 5, ordered alphabetically by last name, starting from the 6th student?",6,False,extra
SELECT Fname FROM Student WHERE Sex = 'M' AND Age BETWEEN 18 AND 20 AND LName = 'Smith' ORDER BY Fname ASC LIMIT 10,"What are the first names of the next 10 male students with the last name 'Smith' between 18 and 20 years old, listed in ascending order?",2,True,hard
SELECT COUNT(ResID) FROM Restaurant WHERE Rating > 2 AND Rating < 5 AND ResName = 'Pizza Hut' ORDER BY ResName DESC,How many Pizza Hut restaurants have a rating between 2 and 5?,6,False,medium
"SELECT COUNT(DISTINCT T1.LName), COUNT(DISTINCT T1.Fname), T1.city_code FROM Student AS T1 WHERE T1.Age IN (SELECT T2.Age FROM Student AS T2) ORDER BY T1.Age ASC LIMIT 10","What are the number of distinct last names, number of distinct first names, and city codes of the youngest 10 students with an age that exists in the student table?",2,True,extra
SELECT LName FROM Student WHERE Age >= 20,What are the last names of students who are 20 years old or older?,2,True,easy
SELECT COUNT(T1.StuID) FROM Student AS T1 JOIN Visits_Restaurant AS T2 ON T1.StuID = T2.StuID WHERE T1.Age > 18 AND T1.Sex = 'M' AND T1.StuID IN (SELECT T3.StuID FROM Visits_Restaurant AS T3 WHERE T3.Spent > 50) GROUP BY T1.StuID LIMIT 100,"What are the student IDs of male students over 18 who have spent more than 50 at a restaurant, listed 100 student IDs after the first 100?",6,False,extra
"SELECT T1.LName, SUM(T2.Spent) FROM Student AS T1 JOIN Visits_Restaurant AS T2 ON T1.StuID = T2.StuID WHERE T1.StuID NOT IN (SELECT StuID FROM Visits_Restaurant WHERE Spent > 100) GROUP BY T1.LName HAVING SUM(T2.Spent) > 500 ORDER BY SUM(T2.Spent) DESC","What are the last names of students who have never spent more than 100 at a restaurant, and the total amount they spent, ordered by the total amount in descending order, but only for those who spent more than 500?",2,True,extra
"SELECT COUNT(DISTINCT T1.LName), T2.ResName FROM Student AS T1 JOIN Visits_Restaurant AS T3 ON T1.StuID = T3.StuID JOIN Restaurant AS T2 ON T3.ResID = T2.ResID WHERE T2.Rating BETWEEN 2 AND 5 OR T1.Sex = 'M' OR T2.ResID NOT IN (SELECT T2.ResID FROM Restaurant AS T2 JOIN Type_Of_Restaurant AS T3 ON T2.ResID = T3.ResID JOIN Restaurant_Type AS T4 ON T3.ResTypeID = T4.ResTypeID WHERE T4.ResTypeName = 'Fast-food')","What is the count of distinct last names of students who visited a restaurant with a rating between 2 and 5, or are male, or visited a non-fast-food restaurant, and the name of that restaurant?",6,False,extra
"SELECT T4.ResTypeName, SUM(T5.Spent) FROM Restaurant_Type AS T4 JOIN Type_Of_Restaurant AS T3 ON T4.ResTypeID = T3.ResTypeID JOIN Restaurant AS T2 ON T3.ResID = T2.ResID JOIN Visits_Restaurant AS T5 ON T2.ResID = T5.ResID JOIN Student AS T1 ON T5.StuID = T1.StuID WHERE T1.Age BETWEEN 20 AND 30 GROUP BY T4.ResTypeName",What are the total amounts spent by students aged 20-30 at each type of restaurant?,2,True,extra
