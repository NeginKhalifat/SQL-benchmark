query,question,iter,flag,hardness
SELECT apt_id FROM Apartments WHERE apt_type_code = 'Studio' OR apt_number BETWEEN 1 AND 10 OR apt_number IN (SELECT apt_number FROM Apartments WHERE bedroom_count = 1),"Which apartment ids belong to either studio apartments, apartments with numbers between 1 and 10, or apartments with one bedroom?",2,True,extra
SELECT building_short_name FROM Apartment_Buildings WHERE building_phone < '1234567890' ORDER BY building_short_name ASC,"What are the building short names of apartment buildings with phone numbers less than '1234567890', listed in ascending order?",2,True,medium
SELECT COUNT(DISTINCT T1.building_id) FROM Apartment_Buildings AS T1 JOIN Apartments AS T2 ON T1.building_id = T2.building_id WHERE T2.bedroom_count > 3 OR T1.building_phone = '1234567890' OR T2.bathroom_count BETWEEN 2 AND 4,How many distinct apartment buildings have apartments with more than 3 bedrooms or a building phone number of '1234567890' or apartments with between 2 and 4 bathrooms?,2,True,extra
SELECT building_short_name FROM Apartment_Buildings WHERE building_phone != '123456789',What are the short names of the apartment buildings with a phone number other than '123456789'?,4,True,easy
SELECT * FROM Apartment_Buildings AS T1 WHERE T1.building_id BETWEEN 1 AND 10 OR T1.building_short_name = 'ABC' OR T1.building_phone = '123-456-7890' LIMIT 5,What are the details of the next 5 apartment buildings with an id between 1 and 10 or a short name of 'ABC' or a phone number of '123-456-7890'?,3,True,extra
SELECT COUNT(*) FROM Apartment_Bookings WHERE booking_start_date BETWEEN '2020-01-01' AND '2020-12-31' OR booking_status_code IN (SELECT booking_status_code FROM Apartment_Bookings WHERE booking_start_date < '2020-01-01') LIMIT 100,"What is the number of apartment bookings in 2020 or with a booking status code that corresponds to a booking start date before 2020, returning results 101 to 200?",6,False,extra
SELECT T1.apt_number FROM Apartments AS T1 WHERE T1.bathroom_count > 2 OR T1.bathroom_count BETWEEN 1 AND 3 OR T1.bedroom_count = 4 ORDER BY T1.apt_number ASC LIMIT 10,"What are the apartment numbers of the top 10 apartments with more than 2 bathrooms or exactly 4 bedrooms, ordered by apartment number?",2,True,extra
SELECT DISTINCT T1.building_short_name FROM Apartment_Buildings AS T1 JOIN Apartments AS T2 ON T1.building_id = T2.building_id WHERE T1.building_short_name != 'test',"What are the distinct building short names of apartment buildings, excluding the ones with a short name of 'test'?",2,True,medium
SELECT AVG(T1.bedroom_count) FROM Apartments AS T1 JOIN Apartment_Facilities AS T2 ON T1.apt_id = T2.apt_id WHERE T1.building_id > 100 AND T1.room_count BETWEEN 2 AND 5 OR T2.facility_code = 'GYM',"What is the average number of bedrooms in apartments with more than 100 building id and 2 to 5 rooms, or apartments that have a gym facility?",2,True,hard
"SELECT T1.building_full_name, T2.apt_number FROM Apartment_Buildings AS T1 JOIN Apartments AS T2 ON T1.building_id = T2.building_id WHERE T2.bathroom_count >= 2 ORDER BY T1.building_full_name DESC","What are the building names and apartment numbers of all apartments with at least two bathrooms, listed in descending order by building name?",2,True,hard
SELECT COUNT(apt_id) FROM Apartments WHERE bedroom_count >= 3,How many apartments have three or more bedrooms?,2,True,easy
"SELECT T1.building_full_name, COUNT(DISTINCT T2.apt_type_code) FROM Apartment_Buildings AS T1 JOIN Apartments AS T2 ON T1.building_id = T2.building_id WHERE T2.bedroom_count >= 3 ORDER BY T1.building_full_name ASC","What are the apartment buildings with their respective counts of distinct apartment types that have 3 or more bedrooms, listed in ascending order by building full name?",4,True,hard
SELECT COUNT(apt_number) FROM Apartments WHERE apt_type_code = 'Studio',How many studio apartments are there?,2,True,easy
SELECT COUNT(DISTINCT T1.apt_id) FROM Apartments AS T1 JOIN Apartment_Facilities AS T2 ON T1.apt_id = T2.apt_id WHERE T1.bedroom_count > 2 ORDER BY T1.apt_id DESC,"How many distinct apartments with more than two bedrooms are there, listed in descending apartment id order?",3,True,hard
SELECT building_short_name FROM Apartment_Buildings WHERE building_id NOT IN (SELECT building_id FROM Apartments WHERE apt_id IN (SELECT apt_id FROM Apartment_Facilities WHERE facility_code = 'gym')),What are the short names of apartment buildings that do not have a gym?,2,True,hard
SELECT building_short_name FROM Apartment_Buildings AS T1 WHERE T1.building_full_name = 'ABC Building' AND T1.building_short_name BETWEEN 'Apt 1' AND 'Apt 10' AND T1.building_id NOT IN ( SELECT T2.building_id FROM Apartments AS T2 ) ORDER BY T1.building_short_name ASC,"What are the names of the apartment buildings with full name 'ABC Building', and short names between 'Apt 1' and 'Apt 10', that do not have any apartments, listed in ascending order by short name?",2,True,extra
SELECT building_short_name FROM Apartment_Buildings WHERE building_full_name > 'Apartment',What are the short names of the apartment buildings with a full name greater than 'Apartment'?,2,True,easy
SELECT COUNT(apt_id) FROM Apartments WHERE bedroom_count <= 3 ORDER BY apt_id DESC,"How many apartments are there with 3 or fewer bedrooms, listed in descending order by apartment ID?",2,True,medium
"SELECT COUNT(apartment_id) AS apartment_id, SUM(total_lease_amount) AS total_lease_amount FROM ( SELECT T1.building_id AS apartment_id, T2.apt_number * T3.monthly_rent AS total_lease_amount FROM Apartment_Buildings AS T1 JOIN Apartments AS T2 ON T1.building_id = T2.building_id JOIN Apartment_Facilities AS T3 ON T2.apt_id = T3.apt_id ) WHERE total_lease_amount BETWEEN 1000 AND 2000 LIMIT 10","What are the count of apartments and the total lease amount for the apartments with a total lease amount between 1000 and 2000, starting from the 11th row?",6,False,extra
"SELECT T1.building_full_name, COUNT(T1.building_short_name) FROM Apartment_Buildings AS T1 GROUP BY T1.building_full_name HAVING COUNT(T1.building_short_name) >= 2 LIMIT 10",What are the names of the 11th to 20th apartment buildings that have at least two short names?,6,False,medium
SELECT apt_type_code FROM Apartments WHERE building_id != 1 LIMIT 5,"What are the apartment type codes for the next 5 apartments, excluding those in building 1, starting from the sixth result?",6,False,medium
"SELECT T1.building_full_name FROM ( SELECT T2.building_full_name, AVG(T1.room_count) AS average_room_count FROM Apartments AS T1 INNER JOIN Apartment_Buildings AS T2 ON T1.building_id = T2.building_id WHERE T2.building_address LIKE 'Park%' GROUP BY T2.building_full_name ) AS T1 WHERE T1.average_room_count > 2",What are the full names of the buildings located on Park and have more than two rooms on average?,2,True,easy
"SELECT T1.building_address, COUNT(T2.apt_id) FROM Apartment_Buildings AS T1 JOIN Apartments AS T2 ON T1.building_id = T2.building_id WHERE T1.building_phone = '123-456-7890' AND EXISTS ( SELECT * FROM Apartment_Facilities AS T3 WHERE T2.apt_id = T3.apt_id AND T3.facility_code = 'Gym' )",What is the address of the apartment building with phone number '123-456-7890' and how many of its apartments have a gym and are there?,2,True,extra
"SELECT COUNT(T1.apt_id), COUNT(T2.apt_id), T4.building_short_name FROM Apartments AS T1 JOIN Apartment_Facilities AS T2 ON T1.apt_id = T2.apt_id JOIN View_Unit_Status AS T3 ON T1.apt_id = T3.apt_id JOIN Apartment_Buildings AS T4 ON T4.building_id = T1.building_id WHERE T3.status_date BETWEEN '2020-01-01' AND '2020-12-31' OR T2.facility_code = 'FACILITY_CODE_1' OR T1.room_count > 3","What is the count of apartments with facilities and apartments that were available between 2020-01-01 and 2020-12-31, or have facility code 'FACILITY_CODE_1', or have more than 3 rooms, grouped by building short name?",6,False,extra
SELECT T1.building_short_name FROM Apartment_Buildings AS T1 JOIN Apartments AS T2 ON T1.building_id = T2.building_id WHERE T1.building_phone = '1234567890' AND T2.bedroom_count > 2 AND NOT EXISTS (SELECT 1 FROM Guests AS T3 WHERE T3.gender_code = 'M') LIMIT 10,"What are the short names of the next 10 apartment buildings with phone number '1234567890', having more than 2 bedrooms and no male guests?",6,True,extra
"SELECT T1.building_short_name, COUNT(T2.apt_id) FROM Apartment_Buildings AS T1 JOIN Apartments AS T2 ON T1.building_id = T2.building_id JOIN Apartment_Facilities AS T3 ON T2.apt_id = T3.apt_id WHERE T1.building_phone BETWEEN '123456789' AND '987654321' OR T3.facility_code = 'pool' OR EXISTS ( SELECT apt_id FROM Apartment_Bookings AS T4 WHERE T4.apt_id = T2.apt_id AND T4.booking_status_code = 'confirmed' ) GROUP BY T1.building_short_name ORDER BY COUNT(T2.apt_id) DESC","What are the apartment buildings with the most apartments that have either a pool facility, a confirmed booking, or a phone number within a specific range, listed in descending order of apartment count by building short name?",6,False,extra
SELECT MAX building_phone FROM Apartment_Buildings WHERE building_id = 1,What is the maximum phone number for the building with id 1?,2,True,easy
