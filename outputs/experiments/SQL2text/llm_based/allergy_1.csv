query,question,iter,flag,hardness
SELECT Fname FROM Student ORDER BY Fname ASC,What are the first names of the students listed in alphabetical order?,2,True,easy
"SELECT COUNT(T1.StuID), COUNT(T2.StuID) FROM Student AS T1 JOIN Has_Allergy AS T2 ON T1.StuID = T2.StuID JOIN Allergy_Type AS T3 ON T2.Allergy = T3.Allergy WHERE T3.Allergy != 'Food' AND T3.AllergyType != 'Mild'",How many students have a non-food allergy that is not mild and how many of these students have a record of such an allergy?,6,False,extra
"SELECT LName, Fname FROM Student WHERE Age > 20",What are the last names and first names of students who are older than 20?,2,True,medium
SELECT COUNT(T1.StuID) FROM Student AS T1 JOIN Has_Allergy AS T2 ON T1.StuID = T2.StuID WHERE T2.Allergy = 'Peanut',How many students have a peanut allergy?,6,False,medium
"SELECT T1.LName, COUNT(DISTINCT T2.Allergy) FROM Student AS T1 JOIN Has_Allergy AS T2 ON T1.StuID = T2.StuID JOIN Allergy_Type AS T3 ON T2.Allergy = T3.Allergy ORDER BY T1.LName DESC LIMIT 10","What are the last names of the 11th to 20th students in descending order of last name, along with the number of distinct allergies for each of them?",3,True,extra
"SELECT T1.LName, T1.Fname, T2.Allergy FROM Student AS T1 JOIN Has_Allergy AS T2 ON T1.StuID = T2.StuID JOIN Allergy_Type AS T3 ON T2.Allergy = T3.Allergy WHERE T3.AllergyType = 'Food' AND T1.Age BETWEEN 18 AND 30 AND T1.Major IN (101, 102, 103) ORDER BY T1.LName ASC","What are the names and food allergies of students aged between 18 and 30, majoring in 101, 102 or 103, listed in ascending order of last name?",6,False,extra
SELECT COUNT(DISTINCT T1.Allergy) FROM Has_Allergy AS T1 JOIN Student AS T2 ON T1.StuID = T2.StuID WHERE T2.Age <= 20 ORDER BY T1.Allergy ASC,How many distinct allergies are present among students under the age of 21?,2,True,hard
SELECT LName FROM Student WHERE Age >= 20 LIMIT 10,What are the last names of the 11th to 20th student who are 20 years old or older?,2,True,medium
"SELECT COUNT(DISTINCT T1.Allergy), T2.StuID FROM Allergy_Type AS T1 JOIN Has_Allergy AS T2 ON T1.Allergy = T2.Allergy WHERE T2.StuID <= 100","For students with student IDs less than or equal to 100, how many different allergies are there for each student?",6,False,medium
"SELECT T1.LName, COUNT(DISTINCT T1.StuID) FROM Student AS T1 JOIN Student AS T2 ON T1.StuID = T2.StuID WHERE T2.StuID NOT IN (SELECT StuID FROM Has_Allergy) GROUP BY T1.LName ORDER BY T1.LName ASC","What is the number of students with distinct IDs for each last name, excluding those who have allergies, sorted in ascending order by last name?",2,True,extra
SELECT T1.StuID FROM Student AS T1 WHERE EXISTS (SELECT 1 FROM Has_Allergy AS T2 WHERE T1.StuID = T2.StuID AND T2.Allergy = 'Peanut') GROUP BY T1.StuID,Which student IDs are associated with a peanut allergy?,6,False,extra
"SELECT T1.LName, T1.Fname FROM Student AS T1 JOIN Student AS T2 ON T1.Major = T2.Major WHERE T1.Age > T2.Age ORDER BY T1.LName ASC","What are the names of students with the same major, ordered by last name, where one is older than the other?",5,True,hard
"SELECT COUNT(DISTINCT T3.Allergy), T1.LName FROM Student AS T1 JOIN Has_Allergy AS T2 ON T1.StuID = T2.StuID JOIN Allergy_Type AS T3 ON T2.Allergy = T3.Allergy WHERE T1.Age BETWEEN 18 AND 25 OR T1.Sex = 'M' OR EXISTS (SELECT 1 FROM Has_Allergy WHERE StuID = T1.StuID)","For each last name, how many distinct allergies are held by students between the ages of 18 and 25, students who are male, or students who have at least one allergy?",4,True,extra
"SELECT T1.LName, T1.Fname, COUNT(T2.Allergy) FROM Student AS T1 JOIN Has_Allergy AS T2 ON T1.StuID = T2.StuID GROUP BY T1.LName, T1.Fname HAVING COUNT(T2.Allergy) > 1 ORDER BY T1.Age DESC","What are the names of students who have more than one allergy, listed in descending order of age?",6,True,hard
"SELECT T1.LName, T1.Fname, T3.AllergyType FROM Student AS T1 JOIN Has_Allergy AS T2 ON T1.StuID = T2.StuID JOIN Allergy_Type AS T3 ON T2.Allergy = T3.Allergy WHERE T1.Age < 20 AND T1.Major = 1 AND T3.AllergyType = 'Food'",What are the names and food allergies of students under 20 years old majoring in 1?,6,False,hard
"SELECT T1.Allergy, COUNT(T2.StuID) AS StudentCount FROM Allergy_Type AS T1 JOIN Has_Allergy AS T2 ON T1.Allergy = T2.Allergy WHERE T1.AllergyType > 'A' GROUP BY T1.Allergy ORDER BY T1.Allergy ASC","For each allergy name with an allergy type greater than 'A', what is the total number of students with that allergy, listed in ascending order by allergy name?",3,True,extra
"SELECT T1.Fname, COUNT(T2.Allergy) FROM Student AS T1 JOIN Has_Allergy AS T2 ON T1.StuID = T2.StuID WHERE T1.Age > 20 GROUP BY T1.Fname HAVING COUNT(T2.Allergy) > 1 ORDER BY T1.Fname ASC","What are the names of students over 20 years old who have more than one allergy, listed in alphabetical order?",6,False,extra
SELECT AVG(T1.Age) FROM Student AS T1 JOIN Has_Allergy AS T2 ON T1.StuID = T2.StuID JOIN Allergy_Type AS T3 ON T2.Allergy = T3.Allergy WHERE T1.Age BETWEEN 18 AND 25 OR T1.Sex = 'M' OR T1.Major IN (SELECT T4.Major FROM Student AS T4 WHERE T4.Age > 20) LIMIT 10,"What is the average age of students who are between 18 and 25 years old, or male, or who have the same major as students over 20 years old, when considering the 11th to 20th oldest students in this group?",6,False,extra
"SELECT T1.LName, T3.AllergyType FROM Student AS T1 JOIN Has_Allergy AS T2 ON T1.StuID = T2.StuID JOIN Allergy_Type AS T3 ON T2.Allergy = T3.Allergy WHERE T1.Sex = 'M' ORDER BY T1.LName ASC","What are the last names of male students from the Student table, along with their corresponding allergy types, listed in ascending order by last name?",2,True,extra
"SELECT T1.LName, T2.Allergy FROM Student AS T1 JOIN Has_Allergy AS T2 ON T1.StuID = T2.StuID WHERE T2.Allergy = 'Pollen' OR T2.Allergy = 'Dust' OR T2.Allergy BETWEEN 'Hayfever' AND 'Latex'","What are the last names of students who have allergies to pollen, dust, hayfever, or latex?",6,False,extra
SELECT Fname FROM Student WHERE Age > (SELECT AVG(Age) FROM Student) ORDER BY Fname ASC LIMIT 1,"What is the alphabetically first first name of students older than the average student age, excluding the very first one? ",5,True,extra
