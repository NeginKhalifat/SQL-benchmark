query,question,iter,flag,hardness
"SELECT COUNT(DISTINCT T1.product_id), COUNT(DISTINCT T2.product_id) FROM Products AS T1 JOIN Actual_Order_Products AS T2 ON T1.product_id = T2.product_id JOIN Actual_Orders AS T3 ON T2.actual_order_id = T3.actual_order_id WHERE T3.actual_order_date BETWEEN '2020-01-01' AND '2020-12-31' AND T1.product_price NOT IN (SELECT product_price FROM Products WHERE product_price > 1000)","How many distinct products with prices not exceeding 1000 were ordered in 2020, and how many distinct products were actually ordered in 2020?",6,False,extra
"SELECT SUM(T1.product_price) AS sum, MAX(T1.product_price) FROM Products AS T1 WHERE T1.product_price BETWEEN 100 AND 200 AND T1.product_description = 'Product Description' AND T1.product_name = 'Product Name' ORDER BY T1.product_price DESC",What is the sum and maximum of product prices for products with the description 'Product Description' and name 'Product Name' that cost between 100 and 200?,2,True,hard
SELECT T1.product_name FROM Products AS T1 JOIN Actual_Order_Products AS T2 ON T1.product_id = T2.product_id WHERE T2.actual_order_id = ( SELECT actual_order_id FROM Actual_Orders WHERE actual_order_date > '2022-01-01' ) AND T1.product_price > 10,"What products, priced over 10, were in orders placed after January 1, 2022?",2,True,extra
"SELECT COUNT(T1.product_id), T1.product_name FROM Products AS T1 WHERE T1.product_price = 10 GROUP BY T1.product_name ORDER BY T1.product_name ASC LIMIT 5","What are the names of the 5th to 9th most expensive products that cost $10, along with the count of each product?",2,True,extra
SELECT COUNT(T1.customer_name) FROM Customers AS T1 JOIN Addresses AS T2 ON T1.customer_id = T2.address_id WHERE T1.customer_id <= 100,How many customers with a customer id less than or equal to 100 have an address recorded?,6,False,medium
SELECT product_name FROM Products WHERE product_price IN (SELECT product_price FROM Products) ORDER BY product_price DESC,What are the product names in descending order of price?,2,True,extra
SELECT T1.product_name FROM Products AS T1 WHERE T1.product_name NOT IN (SELECT T2.product_name FROM Products AS T2 WHERE T2.product_price > 10) LIMIT 5,What are the names of the 5 cheapest products after the first 5?,2,True,extra
"SELECT T1.product_name, T2.location_name FROM Products AS T1 JOIN Delivery_Route_Locations AS T2 ON T1.product_id != T2.location_code",What are the names of products and locations that do not match?,6,False,medium
SELECT COUNT(DISTINCT T1.product_name) FROM Products AS T1 WHERE NOT EXISTS (SELECT T2.product_id FROM Actual_Order_Products AS T2 WHERE T1.product_id = T2.product_id),How many products have never been ordered?,4,True,extra
SELECT T1.product_name FROM Products AS T1 WHERE T1.product_price > 10 OR NOT EXISTS ( SELECT 1 FROM Regular_Order_Products AS T2 WHERE T2.product_id = T1.product_id ) GROUP BY T1.product_name HAVING SUM(T1.product_price) > 100,"What are the names of the products whose price is more than 10 dollars or are not included in any regular order, and whose total price exceeds 100 dollars?",5,True,extra
SELECT T1.product_name FROM Products AS T1 WHERE T1.product_id = 1 OR T1.product_price BETWEEN 10 AND 20 OR NOT EXISTS (SELECT 1 FROM Actual_Order_Products AS T2 WHERE T2.product_id = T1.product_id) ORDER BY T1.product_id DESC,"What are the names of the products with id 1, or with a price between 10 and 20, or that have not been ordered, listed in descending order of product id?",3,True,extra
SELECT AVG(T1.product_price) FROM Products AS T1 JOIN Regular_Order_Products AS T2 ON T1.product_id = T2.product_id JOIN Regular_Orders AS T3 ON T2.regular_order_id = T3.regular_order_id WHERE T3.distributer_id = 1 AND EXISTS (SELECT 1 FROM Actual_Orders AS T4 WHERE T4.regular_order_id = T3.regular_order_id AND T4.order_status_code = 'DELIVERED'),What is the average price of products in regular orders from distributer 1 that have been successfully delivered?,3,True,extra
"SELECT T1.product_name, T2.product_name FROM Products AS T1 JOIN Products AS T2 ON T1.product_id = T2.product_id WHERE T1.product_price BETWEEN 10 AND 20 OR T1.product_description IN ('sample1', 'sample2') ORDER BY T1.product_price ASC LIMIT 10","What are the names of the products in the Products table with matching IDs where the price is between 10 and 20 or the description is either 'sample1' or 'sample2', listed in ascending order of price from the 11th to the 20th result?",6,False,extra
SELECT COUNT(T1.product_id) FROM Products AS T1 WHERE T1.product_price > 10 OR T1.product_price BETWEEN 5 AND 15 OR T1.product_name = 'Product A',"How many products have a price greater than 10, or between 5 and 15, or are named 'Product A'?",2,True,hard
SELECT COUNT(DISTINCT T1.product_id) FROM Products AS T1 JOIN Actual_Order_Products AS T2 ON T1.product_id = T2.product_id WHERE T1.product_price = 10 ORDER BY T1.product_price DESC,How many distinct products priced at 10 dollars have been ordered?,4,True,hard
SELECT T1.product_name FROM Products AS T1 JOIN Regular_Order_Products AS T2 ON T1.product_id = T2.product_id WHERE T1.product_price < 100 GROUP BY T1.product_name HAVING MAX(T2.product_id) > 0 ORDER BY T1.product_name DESC,"What are the names of products priced less than 100 that appear in a regular order, listed in descending order? ",6,False,extra
SELECT SUM(T1.product_price) FROM Products AS T1 JOIN Regular_Order_Products AS T2 ON T1.product_id = T2.product_id WHERE T1.product_price > 10 ORDER BY T1.product_price DESC LIMIT 10,"What is the total price of the top 10 most expensive products in regular orders, excluding the first 10 results, that cost more than 10 dollars?",6,False,extra
SELECT COUNT(DISTINCT T1.product_id) FROM Products AS T1 JOIN Regular_Order_Products AS T2 ON T1.product_id = T2.product_id JOIN Regular_Orders AS T3 ON T2.regular_order_id = T3.regular_order_id WHERE T3.distributer_id != 1,What is the number of distinct products ordered by regular orders from distributers other than distributer 1?,3,True,hard
SELECT COUNT(DISTINCT T1.product_name) FROM Products AS T1 JOIN Regular_Order_Products AS T2 ON T1.product_id = T2.product_id WHERE T1.product_price BETWEEN 10 AND 20 OR T1.product_price > 50,How many unique products with prices between 10 and 20 or greater than 50 have been ordered in a regular order?,5,True,hard
"SELECT COUNT(DISTINCT T1.product_name), T1.product_description FROM Products AS T1 WHERE T1.product_price BETWEEN 10 AND 50 ORDER BY T1.product_name ASC","What are the distinct product names and their descriptions for products priced between 10 and 50, listed in ascending order by product name, and how many such products are there?",6,False,medium
